{"ast":null,"code":"import { UntypedFormBuilder, Validators, UntypedFormControl } from '@angular/forms';\nimport { debounceTime, tap } from 'rxjs/operators';\nimport { UserService } from '../../services/user.service';\nimport { TppUserService } from '../../services/tpp.user.service';\nimport { TppManagementService } from '../../services/tpp-management.service';\nimport { PageNavigationService } from '../../services/page-navigation.service';\nimport { ActivatedRoute } from '@angular/router';\nimport { CountryService } from '../../services/country.service';\nimport { ADMIN_KEY } from '../../commons/constant/constant';\nimport { NgbModal } from '@ng-bootstrap/ng-bootstrap';\nimport { InfoService } from '../../commons/info/info.service';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../services/user.service\";\nimport * as i2 from \"../../commons/info/info.service\";\nimport * as i3 from \"../../services/tpp.user.service\";\nimport * as i4 from \"../../services/country.service\";\nimport * as i5 from \"../../services/page-navigation.service\";\nimport * as i6 from \"../../services/tpp-management.service\";\nimport * as i7 from \"@angular/router\";\nimport * as i8 from \"@angular/forms\";\nimport * as i9 from \"@ng-bootstrap/ng-bootstrap\";\nimport * as i10 from \"@angular/common\";\nimport * as i11 from \"@angular/material/icon\";\nimport * as i12 from \"@angular/material/button\";\nimport * as i13 from \"@angular/material/tooltip\";\nimport * as i14 from \"../../commons/pagination-container/pagination-container.component\";\nfunction UsersComponent_div_25_div_13_option_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 41);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const country_r6 = ctx.$implicit;\n    i0.ɵɵproperty(\"ngValue\", country_r6.code);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", country_r6.name, \" \");\n  }\n}\nfunction UsersComponent_div_25_div_13_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 36)(1, \"label\", 30);\n    i0.ɵɵtext(2, \"Country:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"div\", 37)(4, \"select\", 38);\n    i0.ɵɵelement(5, \"option\", 39);\n    i0.ɵɵtemplate(6, UsersComponent_div_25_div_13_option_6_Template, 2, 2, \"option\", 40);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const ctx_r4 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(6);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r4.countries);\n  }\n}\nconst _c0 = function (a0) {\n  return {\n    active: a0\n  };\n};\nfunction UsersComponent_div_25_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r8 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 27)(1, \"div\", 25)(2, \"div\", 28)(3, \"div\", 29)(4, \"label\", 30);\n    i0.ɵɵtext(5, \"TPP login:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"div\", 31);\n    i0.ɵɵelement(7, \"input\", 32);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(8, \"div\", 29)(9, \"label\", 30);\n    i0.ɵɵtext(10, \"TPP ID:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"div\", 31);\n    i0.ɵɵelement(12, \"input\", 33);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtemplate(13, UsersComponent_div_25_div_13_Template, 7, 1, \"div\", 34);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(14, \"div\", 28)(15, \"button\", 35);\n    i0.ɵɵlistener(\"click\", function UsersComponent_div_25_Template_button_click_15_listener() {\n      i0.ɵɵrestoreView(_r8);\n      const ctx_r7 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r7.setBlocked(false));\n    });\n    i0.ɵɵtext(16, \" Active \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(17, \"button\", 35);\n    i0.ɵɵlistener(\"click\", function UsersComponent_div_25_Template_button_click_17_listener() {\n      i0.ɵɵrestoreView(_r8);\n      const ctx_r9 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r9.setBlocked(true));\n    });\n    i0.ɵɵtext(18, \" Blocked \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(19, \"button\", 35);\n    i0.ɵɵlistener(\"click\", function UsersComponent_div_25_Template_button_click_19_listener() {\n      i0.ɵɵrestoreView(_r8);\n      const ctx_r10 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r10.showAllTpps());\n    });\n    i0.ɵɵtext(20, \" Reset Filters \");\n    i0.ɵɵelementEnd()()()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(13);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.admin === \"true\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(4, _c0, ctx_r0.searchForm.controls.blocked.value === false));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(6, _c0, ctx_r0.searchForm.controls.blocked.value === true));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(8, _c0, ctx_r0.isSearchFormEmpty()));\n  }\n}\nfunction UsersComponent_th_39_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 22);\n    i0.ɵɵtext(1, \"TPP login\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction UsersComponent_th_40_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 22);\n    i0.ɵɵtext(1, \"TPP ID\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction UsersComponent_tr_46_li_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"li\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const accountAccess_r25 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", accountAccess_r25.iban, \" \");\n  }\n}\nfunction UsersComponent_tr_46_li_12_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"li\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const accountAccess_r26 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", accountAccess_r26.currency, \" \");\n  }\n}\nconst _c1 = function (a0) {\n  return [a0];\n};\nfunction UsersComponent_tr_46_td_13_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 55);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const user_r11 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction1(2, _c1, \"/users/\" + user_r11.id));\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", user_r11 == null ? null : user_r11.branchLogin, \" \");\n  }\n}\nconst _c2 = function (a0) {\n  return {\n    page: a0\n  };\n};\nconst _c3 = function (a0) {\n  return {\n    \"disabled-text\": a0\n  };\n};\nfunction UsersComponent_tr_46_td_14_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\")(1, \"a\", 56);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const user_r11 = i0.ɵɵnextContext().$implicit;\n    const ctx_r16 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction1(4, _c1, ctx_r16.createLastVisitedPageLink(user_r11.branch)))(\"queryParams\", i0.ɵɵpureFunction1(6, _c2, ctx_r16.config.currentPageNumber))(\"ngClass\", i0.ɵɵpureFunction1(8, _c3, user_r11.blocked));\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\"\", user_r11.branch, \" \");\n  }\n}\nfunction UsersComponent_tr_46_li_17_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const scaItem_r29 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\"Sca Method: \", scaItem_r29.scaMethod, \"\");\n  }\n}\nfunction UsersComponent_tr_46_li_17_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const scaItem_r29 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\"Static TAN: \", scaItem_r29.staticTan, \"\");\n  }\n}\nconst _c4 = function (a0) {\n  return {\n    \"mb-2\": a0\n  };\n};\nfunction UsersComponent_tr_46_li_17_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"li\", 42);\n    i0.ɵɵtext(1);\n    i0.ɵɵtemplate(2, UsersComponent_tr_46_li_17_div_2_Template, 2, 1, \"div\", 48);\n    i0.ɵɵtemplate(3, UsersComponent_tr_46_li_17_div_3_Template, 2, 1, \"div\", 48);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const scaItem_r29 = ctx.$implicit;\n    const isLast_r31 = ctx.last;\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(4, _c4, !isLast_r31));\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", scaItem_r29.methodValue, \" \");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", scaItem_r29.scaMethod);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", scaItem_r29.usesStaticTan);\n  }\n}\nconst _c5 = function (a0, a1) {\n  return {\n    tppId: a0,\n    userId: a1\n  };\n};\nfunction UsersComponent_tr_46_a_19_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"a\", 57)(1, \"mat-icon\");\n    i0.ɵɵtext(2, \"account_balance\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const user_r11 = i0.ɵɵnextContext().$implicit;\n    const ctx_r18 = i0.ɵɵnextContext();\n    i0.ɵɵpropertyInterpolate1(\"routerLink\", \"/users/\", user_r11.id, \"/create-deposit-account\");\n    i0.ɵɵproperty(\"matTooltipPosition\", ctx_r18.position.value)(\"queryParams\", i0.ɵɵpureFunction2(3, _c5, user_r11.branch, user_r11.id));\n  }\n}\nfunction UsersComponent_tr_46_mat_icon_21_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-icon\");\n    i0.ɵɵtext(1, \"lock\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction UsersComponent_tr_46_mat_icon_22_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-icon\");\n    i0.ɵɵtext(1, \"lock_open\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction UsersComponent_tr_46_ng_template_23_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r39 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 58)(1, \"h4\", 59);\n    i0.ɵɵtext(2, \"User deletion\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"button\", 60);\n    i0.ɵɵlistener(\"click\", function UsersComponent_tr_46_ng_template_23_Template_button_click_3_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r39);\n      const modal_r37 = restoredCtx.$implicit;\n      return i0.ɵɵresetView(modal_r37.dismiss(\"Cross click\"));\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(4, \"div\", 61);\n    i0.ɵɵtext(5, \"Are you sure you want to delete this User?\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"div\", 62)(7, \"button\", 63);\n    i0.ɵɵlistener(\"click\", function UsersComponent_tr_46_ng_template_23_Template_button_click_7_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r39);\n      const modal_r37 = restoredCtx.$implicit;\n      return i0.ɵɵresetView(modal_r37.dismiss(\"cancel click\"));\n    });\n    i0.ɵɵtext(8, \" Cancel \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"button\", 64);\n    i0.ɵɵlistener(\"click\", function UsersComponent_tr_46_ng_template_23_Template_button_click_9_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r39);\n      const modal_r37 = restoredCtx.$implicit;\n      return i0.ɵɵresetView(modal_r37.close(\"Ok click\"));\n    });\n    i0.ɵɵtext(10, \"Delete\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction UsersComponent_tr_46_ng_template_25_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r44 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 58)(1, \"h4\", 65);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"button\", 60);\n    i0.ɵɵlistener(\"click\", function UsersComponent_tr_46_ng_template_25_Template_button_click_3_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r44);\n      const modal_r42 = restoredCtx.$implicit;\n      return i0.ɵɵresetView(modal_r42.dismiss(\"Cross click\"));\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(4, \"div\", 61);\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"div\", 62)(7, \"button\", 63);\n    i0.ɵɵlistener(\"click\", function UsersComponent_tr_46_ng_template_25_Template_button_click_7_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r44);\n      const modal_r42 = restoredCtx.$implicit;\n      return i0.ɵɵresetView(modal_r42.dismiss(\"cancel click\"));\n    });\n    i0.ɵɵtext(8, \" Cancel \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"button\", 64);\n    i0.ɵɵlistener(\"click\", function UsersComponent_tr_46_ng_template_25_Template_button_click_9_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r44);\n      const modal_r42 = restoredCtx.$implicit;\n      return i0.ɵɵresetView(modal_r42.close(\"Ok click\"));\n    });\n    i0.ɵɵtext(10);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const user_r11 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"User \", user_r11.blocked ? \"unblocking\" : \"blocking\", \"\");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" Are you sure you want to \", user_r11.blocked ? \"Unblock\" : \"Block\", \" this User? \");\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate1(\" \", user_r11.blocked ? \"Unblock\" : \"Block\", \" \");\n  }\n}\nfunction UsersComponent_tr_46_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r49 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tr\", 42)(1, \"th\", 43);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\", 44);\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\", 44);\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"td\", 45)(8, \"ul\");\n    i0.ɵɵtemplate(9, UsersComponent_tr_46_li_9_Template, 2, 1, \"li\", 46);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(10, \"td\", 45)(11, \"ul\");\n    i0.ɵɵtemplate(12, UsersComponent_tr_46_li_12_Template, 2, 1, \"li\", 46);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtemplate(13, UsersComponent_tr_46_td_13_Template, 2, 4, \"td\", 47);\n    i0.ɵɵtemplate(14, UsersComponent_tr_46_td_14_Template, 3, 10, \"td\", 48);\n    i0.ɵɵelementStart(15, \"td\", 45)(16, \"ul\");\n    i0.ɵɵtemplate(17, UsersComponent_tr_46_li_17_Template, 4, 6, \"li\", 24);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(18, \"td\", 49);\n    i0.ɵɵtemplate(19, UsersComponent_tr_46_a_19_Template, 3, 6, \"a\", 50);\n    i0.ɵɵelementStart(20, \"button\", 51);\n    i0.ɵɵlistener(\"click\", function UsersComponent_tr_46_Template_button_click_20_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r49);\n      const user_r11 = restoredCtx.$implicit;\n      const _r23 = i0.ɵɵreference(26);\n      const ctx_r48 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r48.openConfirmation(_r23, user_r11.id, user_r11.blocked ? \"block\" : \"unblock\"));\n    });\n    i0.ɵɵtemplate(21, UsersComponent_tr_46_mat_icon_21_Template, 2, 0, \"mat-icon\", 48);\n    i0.ɵɵtemplate(22, UsersComponent_tr_46_mat_icon_22_Template, 2, 0, \"mat-icon\", 48);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(23, UsersComponent_tr_46_ng_template_23_Template, 11, 0, \"ng-template\", null, 52, i0.ɵɵtemplateRefExtractor);\n    i0.ɵɵtemplate(25, UsersComponent_tr_46_ng_template_25_Template, 11, 3, \"ng-template\", null, 53, i0.ɵɵtemplateRefExtractor);\n    i0.ɵɵelementStart(27, \"button\", 54);\n    i0.ɵɵlistener(\"click\", function UsersComponent_tr_46_Template_button_click_27_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r49);\n      const user_r11 = restoredCtx.$implicit;\n      const _r21 = i0.ɵɵreference(24);\n      const ctx_r50 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r50.openConfirmation(_r21, user_r11.id, \"delete\"));\n    });\n    i0.ɵɵelementStart(28, \"mat-icon\");\n    i0.ɵɵtext(29, \"delete\");\n    i0.ɵɵelementEnd()()()();\n  }\n  if (rf & 2) {\n    const user_r11 = ctx.$implicit;\n    const i_r12 = ctx.index;\n    const ctx_r3 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(23, _c3, user_r11.blocked));\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction1(25, _c1, \"/users/\" + user_r11.id));\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", (ctx_r3.config.currentPageNumber - 1) * ctx_r3.config.itemsPerPage + i_r12 + 1, \" \");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction1(27, _c1, \"/users/\" + user_r11.id))(\"queryParams\", i0.ɵɵpureFunction1(29, _c2, ctx_r3.config.currentPageNumber));\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", user_r11.login, \" \");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction1(31, _c1, \"/users/\" + user_r11.id))(\"queryParams\", i0.ɵɵpureFunction1(33, _c2, ctx_r3.config.currentPageNumber));\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", user_r11.email, \" \");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction1(35, _c1, \"/users/\" + user_r11.id));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngForOf\", user_r11 == null ? null : user_r11.accountAccesses);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction1(37, _c1, \"/users/\" + user_r11.id));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngForOf\", user_r11 == null ? null : user_r11.accountAccesses);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r3.admin === \"true\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r3.admin === \"true\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction1(39, _c1, \"/users/\" + user_r11.id));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngForOf\", user_r11 == null ? null : user_r11.scaUserData);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", !user_r11.blocked);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"matTooltip\", !user_r11.blocked ? \"Block the user\" : \"Unblock the user\")(\"matTooltipPosition\", ctx_r3.position.value);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !user_r11.blocked);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", user_r11.blocked);\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"matTooltipPosition\", ctx_r3.position.value);\n  }\n}\nconst _c6 = function (a0) {\n  return {\n    \"configs-container\": a0\n  };\n};\n// TODO Merge UsersComponent, TppsComponent and AccountListComponent into one single component\n//  https://git.adorsys.de/adorsys/xs2a/psd2-dynamic-sandbox/-/issues/713\nexport let UsersComponent = /*#__PURE__*/(() => {\n  class UsersComponent {\n    constructor(userService, infoService, tppUserService, countryService, pageNavigationService, tppManagementService, route, formBuilder, modalService) {\n      this.userService = userService;\n      this.infoService = infoService;\n      this.tppUserService = tppUserService;\n      this.countryService = countryService;\n      this.pageNavigationService = pageNavigationService;\n      this.tppManagementService = tppManagementService;\n      this.route = route;\n      this.formBuilder = formBuilder;\n      this.modalService = modalService;\n      this.users = [];\n      this.countries = [];\n      this.config = {\n        itemsPerPage: 10,\n        currentPageNumber: 1,\n        totalItems: 0\n      };\n      this.positionOptions = ['above', 'before', 'after', 'below', 'left', 'right'];\n      this.position = new UntypedFormControl(this.positionOptions[0]);\n      this.searchForm = this.formBuilder.group({\n        userLogin: '',\n        tppId: '',\n        tppLogin: '',\n        country: '',\n        blocked: '',\n        itemsPerPage: [this.config.itemsPerPage, Validators.required]\n      });\n    }\n    ngOnInit() {\n      this.admin = sessionStorage.getItem(ADMIN_KEY);\n      this.getPageConfigs();\n      this.getCountries();\n      this.getUsers();\n      this.onQueryUsers();\n    }\n    setBlocked(blocked) {\n      this.searchForm.controls.blocked.patchValue(blocked);\n    }\n    createLastVisitedPageLink(id) {\n      this.pageNavigationService.setLastVisitedPage('/users/all');\n      return `/profile/${id}/`;\n    }\n    pageChange(pageConfig) {\n      const tppId = this.searchForm.get('tppId').value;\n      if (tppId !== '') {\n        this.listUsers(pageConfig.pageNumber, pageConfig.pageSize, {\n          userLogin: this.searchForm.get('userLogin').value,\n          tppId: tppId,\n          tppLogin: this.searchForm.get('tppLogin').value,\n          country: this.searchForm.get('country').value,\n          blocked: this.searchForm.get('blocked').value\n        });\n      } else {\n        this.listUsers(pageConfig.pageNumber, pageConfig.pageSize, this.searchForm.get('userLogin').value);\n      }\n    }\n    changePageSize(num) {\n      this.config.itemsPerPage = this.config.itemsPerPage + num;\n    }\n    showAllTpps() {\n      this.searchForm.controls.userLogin.patchValue('');\n      this.searchForm.controls.tppId.patchValue('');\n      this.searchForm.controls.tppLogin.patchValue('');\n      this.searchForm.controls.country.patchValue('');\n      this.searchForm.controls.blocked.patchValue('');\n      this.searchForm.controls.itemsPerPage.patchValue(this.config.itemsPerPage);\n    }\n    isSearchFormEmpty() {\n      return this.searchForm.controls.blocked.value === '' && this.searchForm.controls.userLogin.value === '' && this.searchForm.controls.tppId.value === '' && this.searchForm.controls.tppLogin.value === '' && this.searchForm.controls.country.value === '';\n    }\n    getCountries() {\n      this.countryService.getCountryList().subscribe(data => {\n        this.countries = data;\n      });\n    }\n    onQueryUsers() {\n      this.searchForm.valueChanges.pipe(tap(val => {\n        this.searchForm.patchValue(val, {\n          emitEvent: false\n        });\n      }), debounceTime(750)).subscribe(form => {\n        this.config.itemsPerPage = form.itemsPerPage;\n        this.listUsers(1, this.config.itemsPerPage, {\n          userLogin: form.userLogin,\n          tppId: form.tppId,\n          tppLogin: form.tppLogin,\n          country: form.country,\n          blocked: form.blocked\n        });\n      });\n    }\n    listUsers(page, size, params) {\n      if (this.admin === 'true') {\n        this.tppManagementService.getAllUsers(page - 1, size, params).subscribe(response => {\n          if (typeof response.users !== 'undefined') {\n            this.users = response.users;\n            this.users.reverse();\n          } else if (typeof response.users === 'undefined') {\n            this.users = response.users;\n          }\n          this.config.totalItems = response.totalElements;\n        });\n      } else if (this.admin === 'false') {\n        this.userService.listUsers(page - 1, size, params.userLogin).subscribe(response => {\n          if (typeof response.users !== 'undefined') {\n            this.users = response.users;\n            this.users.reverse();\n            this.config.totalItems = response.totalElements;\n          }\n        });\n      }\n    }\n    getPageConfigs() {\n      this.route.queryParams.subscribe(param => {\n        if (param.page) {\n          this.config.currentPageNumber = param.page;\n        } else {\n          this.config.currentPageNumber = 1;\n        }\n        if (param.tppId) {\n          this.searchForm.controls.tppId.patchValue(param.tppId);\n        }\n      });\n    }\n    getUsers() {\n      this.listUsers(this.config.currentPageNumber, this.config.itemsPerPage, {\n        userLogin: this.searchForm.get('userLogin').value,\n        tppId: this.searchForm.get('tppId').value,\n        tppLogin: this.searchForm.get('tppLogin').value,\n        country: this.searchForm.get('country').value,\n        blocked: this.searchForm.get('blocked').value\n      });\n    }\n    openConfirmation(content, userId, type) {\n      this.statusBlock = type;\n      this.modalService.open(content).result.then(() => {\n        if (type === 'block') {\n          this.blockUser(userId);\n        } else if (type === 'unblock') {\n          this.blockUser(userId);\n        } else if (type === 'delete') {\n          this.delete(userId);\n        }\n      });\n    }\n    blockUser(userId) {\n      if (this.admin === 'true') {\n        this.tppManagementService.blockUser(userId).subscribe(() => {\n          if (this.statusBlock === 'block') {\n            this.infoService.openFeedback('User was successfully unblocked!', {\n              severity: 'info'\n            });\n          }\n          this.listUsers(this.config.currentPageNumber, this.config.itemsPerPage, {});\n        });\n        if (this.statusBlock === 'unblock') {\n          this.infoService.openFeedback('User was successfully blocked!', {\n            severity: 'info'\n          });\n        }\n      } else if (this.admin === 'false') {\n        this.userService.blockTpp(userId).subscribe(() => {\n          if (this.statusBlock === 'block') {\n            this.infoService.openFeedback('User was successfully unblocked!', {\n              severity: 'info'\n            });\n          }\n          this.listUsers(this.config.currentPageNumber, this.config.itemsPerPage, {});\n        });\n        if (this.statusBlock === 'unblock') {\n          this.infoService.openFeedback('User was successfully blocked!', {\n            severity: 'info'\n          });\n          this.listUsers(this.config.currentPageNumber, this.config.itemsPerPage, {});\n        }\n      }\n    }\n    delete(userId) {\n      if (this.admin === 'true') {\n        this.tppManagementService.deleteUser(userId).subscribe(() => {\n          this.infoService.openFeedback('User was successfully deleted!', {\n            severity: 'info'\n          });\n          this.listUsers(this.config.currentPageNumber, this.config.itemsPerPage, {});\n        });\n      } else if (this.admin === 'false') {\n        this.userService.deleteUser(userId).subscribe(() => {\n          this.infoService.openFeedback('User was successfully deleted!', {\n            severity: 'info'\n          });\n          this.listUsers(this.config.currentPageNumber, this.config.itemsPerPage, {});\n        });\n      }\n    }\n    static #_ = this.ɵfac = function UsersComponent_Factory(t) {\n      return new (t || UsersComponent)(i0.ɵɵdirectiveInject(i1.UserService), i0.ɵɵdirectiveInject(i2.InfoService), i0.ɵɵdirectiveInject(i3.TppUserService), i0.ɵɵdirectiveInject(i4.CountryService), i0.ɵɵdirectiveInject(i5.PageNavigationService), i0.ɵɵdirectiveInject(i6.TppManagementService), i0.ɵɵdirectiveInject(i7.ActivatedRoute), i0.ɵɵdirectiveInject(i8.UntypedFormBuilder), i0.ɵɵdirectiveInject(i9.NgbModal));\n    };\n    static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: UsersComponent,\n      selectors: [[\"app-users\"]],\n      decls: 50,\n      vars: 10,\n      consts: [[1, \"container-fluid\", 3, \"formGroup\"], [1, \"row\", \"header\"], [1, \"col-12\", \"col-md-4\", \"header__title\"], [1, \"col-12\", \"col-md-8\", \"right\"], [1, \"row\"], [1, \"col-12\", \"col-md-8\", \"p-md-0\"], [1, \"mb-3\", \"has-search\"], [1, \"form-control-feedback\"], [\"src\", \"./assets/icons/search.svg\"], [\"placeholder\", \"Search by user login\", \"formControlName\", \"userLogin\", \"type\", \"text\", 1, \"form-control\", \"w-100\"], [1, \"col-12\", \"col-md-4\"], [1, \"header__button\"], [\"mat-raised-button\", \"\", \"routerLink\", \"/users/create\", 1, \"btn\", \"btn-primary\", \"btn-block\"], [1, \"card\"], [1, \"card-body\"], [1, \"table-responsive\"], [1, \"container-fluid\", 3, \"ngClass\"], [1, \"d-flex\", \"justify-content-between\", \"configs\", \"fixed-width\"], [1, \"paginator\"], [3, \"paginationConfig\", \"pageDataConfig\"], [\"class\", \"tpp-filters\", 4, \"ngIf\"], [1, \"table\"], [\"scope\", \"col\"], [\"scope\", \"col\", 4, \"ngIf\"], [3, \"ngClass\", 4, \"ngFor\", \"ngForOf\"], [1, \"container-fluid\"], [1, \"d-flex\", \"justify-content-start\"], [1, \"tpp-filters\"], [1, \"row\", \"d-flex\", \"justify-content-end\"], [1, \"me-2\"], [\"for\", \"country\"], [1, \"filter\"], [\"placeholder\", \"Search by TPP login\", \"formControlName\", \"tppLogin\", \"type\", \"text\", 1, \"form-control\"], [\"placeholder\", \"Search by TPP ID\", \"formControlName\", \"tppId\", \"type\", \"text\", 1, \"form-control\"], [\"class\", \"select\", 4, \"ngIf\"], [\"mat-raised-button\", \"\", 1, \"btn\", \"btn-outline-primary\", \"btn-sm\", \"mt-2\", \"mb-3\", \"me-1\", \"filter-button\", 3, \"ngClass\", \"click\"], [1, \"select\"], [1, \"select-filter\"], [\"name\", \"country\", \"formControlName\", \"country\", \"id\", \"country\", 1, \"form-control\"], [\"id\", \"emptySelect\", \"selected\", \"\", 3, \"ngValue\"], [3, \"ngValue\", 4, \"ngFor\", \"ngForOf\"], [3, \"ngValue\"], [3, \"ngClass\"], [\"scope\", \"row\", 3, \"routerLink\"], [3, \"routerLink\", \"queryParams\"], [3, \"routerLink\"], [4, \"ngFor\", \"ngForOf\"], [\"class\", \"nowrap\", 3, \"routerLink\", 4, \"ngIf\"], [4, \"ngIf\"], [1, \"action\", \"d-flex\"], [\"matTooltip\", \"Create Deposit Account\", \"aria-label\", \"Create Deposit Account\", \"mat-fab\", \"\", \"class\", \"btn btn-table-btn me-2\", 3, \"matTooltipPosition\", \"routerLink\", \"queryParams\", 4, \"ngIf\"], [\"mat-fab\", \"\", \"aria-label\", \"Block the user\", 1, \"btn\", \"btn-table-btn\", \"me-2\", 3, \"matTooltip\", \"matTooltipPosition\", \"click\"], [\"deleteConfirmationModal\", \"\"], [\"blockConfirmation\", \"\"], [\"mat-fab\", \"\", \"matTooltip\", \"Delete the user\", \"aria-label\", \"Delete the user\", 1, \"btn\", \"btn-outline-danger\", \"me-2\", 3, \"matTooltipPosition\", \"click\"], [1, \"nowrap\", 3, \"routerLink\"], [3, \"routerLink\", \"queryParams\", \"ngClass\"], [\"matTooltip\", \"Create Deposit Account\", \"aria-label\", \"Create Deposit Account\", \"mat-fab\", \"\", 1, \"btn\", \"btn-table-btn\", \"me-2\", 3, \"matTooltipPosition\", \"routerLink\", \"queryParams\"], [1, \"modal-header\"], [\"id\", \"modal-basic-title\", 1, \"modal-title\"], [\"type\", \"button\", \"aria-label\", \"Close\", 1, \"btn-close\", 3, \"click\"], [1, \"modal-body\"], [1, \"modal-footer\"], [\"mat-raised-button\", \"\", \"type\", \"button\", 1, \"btn\", \"btn-outline-secondary\", \"me-2\", 3, \"click\"], [\"mat.mdc-button-theme\", \"\", \"type\", \"button\", 1, \"btn\", \"btn-danger\", 3, \"click\"], [\"id\", \"modal-basic-title-1\", 1, \"modal-title\"]],\n      template: function UsersComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"div\", 2);\n          i0.ɵɵtext(3, \"List of users\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(4, \"div\", 3)(5, \"div\", 4)(6, \"div\", 5)(7, \"div\", 6)(8, \"span\", 7);\n          i0.ɵɵelement(9, \"img\", 8);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(10, \"div\");\n          i0.ɵɵelement(11, \"input\", 9);\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵelementStart(12, \"div\", 10)(13, \"div\", 11)(14, \"button\", 12)(15, \"mat-icon\");\n          i0.ɵɵtext(16, \"person_add\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵtext(17, \" Create New User \");\n          i0.ɵɵelementEnd()()()()()();\n          i0.ɵɵelementStart(18, \"div\", 13)(19, \"div\", 14)(20, \"div\", 15)(21, \"div\", 16)(22, \"div\", 17)(23, \"div\", 18)(24, \"app-pagination-container\", 19);\n          i0.ɵɵlistener(\"pageDataConfig\", function UsersComponent_Template_app_pagination_container_pageDataConfig_24_listener($event) {\n            return ctx.pageChange($event);\n          });\n          i0.ɵɵelementEnd()();\n          i0.ɵɵtemplate(25, UsersComponent_div_25_Template, 21, 10, \"div\", 20);\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(26, \"table\", 21)(27, \"thead\")(28, \"tr\")(29, \"th\", 22);\n          i0.ɵɵtext(30, \"#\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(31, \"th\", 22);\n          i0.ɵɵtext(32, \"User Login\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(33, \"th\", 22);\n          i0.ɵɵtext(34, \"Email\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(35, \"th\", 22);\n          i0.ɵɵtext(36, \"Accounts\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(37, \"th\", 22);\n          i0.ɵɵtext(38, \"Currencies\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵtemplate(39, UsersComponent_th_39_Template, 2, 0, \"th\", 23);\n          i0.ɵɵtemplate(40, UsersComponent_th_40_Template, 2, 0, \"th\", 23);\n          i0.ɵɵelementStart(41, \"th\", 22);\n          i0.ɵɵtext(42, \"Authentication methods\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(43, \"th\", 22);\n          i0.ɵɵtext(44, \"Actions\");\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵelementStart(45, \"tbody\");\n          i0.ɵɵtemplate(46, UsersComponent_tr_46_Template, 30, 41, \"tr\", 24);\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(47, \"div\", 25)(48, \"div\", 26)(49, \"app-pagination-container\", 19);\n          i0.ɵɵlistener(\"pageDataConfig\", function UsersComponent_Template_app_pagination_container_pageDataConfig_49_listener($event) {\n            return ctx.pageChange($event);\n          });\n          i0.ɵɵelementEnd()()()()()()();\n        }\n        if (rf & 2) {\n          i0.ɵɵproperty(\"formGroup\", ctx.searchForm);\n          i0.ɵɵadvance(21);\n          i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(8, _c6, ctx.admin));\n          i0.ɵɵadvance(3);\n          i0.ɵɵproperty(\"paginationConfig\", ctx.config);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", ctx.admin === \"true\");\n          i0.ɵɵadvance(14);\n          i0.ɵɵproperty(\"ngIf\", ctx.admin === \"true\");\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", ctx.admin === \"true\");\n          i0.ɵɵadvance(6);\n          i0.ɵɵproperty(\"ngForOf\", ctx.users);\n          i0.ɵɵadvance(3);\n          i0.ɵɵproperty(\"paginationConfig\", ctx.config);\n        }\n      },\n      dependencies: [i10.NgClass, i10.NgForOf, i10.NgIf, i7.RouterLink, i8.NgSelectOption, i8.ɵNgSelectMultipleOption, i8.DefaultValueAccessor, i8.SelectControlValueAccessor, i8.NgControlStatus, i8.NgControlStatusGroup, i8.FormGroupDirective, i8.FormControlName, i11.MatIcon, i12.MatButton, i12.MatFabAnchor, i12.MatFabButton, i13.MatTooltip, i14.PaginationContainerComponent],\n      styles: [\"[_ngcontent-%COMP%]:root{--fontFamily: \\\"Verdana\\\", sans-serif;--textFontSize: 1rem;--textFontWeight: bold;--textFontSize768px: 1rem;--textFontWeight768px: bold;--textFontSize1024px: 1rem;--textFontWeight1024px: bold;--h1FontSize: 2rem;--h1FontWeight: bold;--h2FontSize: 1.8rem;--h2FontWeight: 700;--h3FontSize: 1rem;--h3FontWeight: normal;--h1FontSize768px: 2rem;--h1FontWeight768px: bold;--h1FontSize1024px: 2rem;--h1FontWeight1024px: bold;--h2FontSize768px: 1.5rem;--h2FontWeight768px: bold;--h2FontSize1024px: 1.5rem;--h2FontWeight1024px: bold;--h3FontSize768px: 1rem;--h3FontWeight768px: normal;--h3FontSize1024px: 1rem;--h3FontWeight1024px: normal;--colorPrimary: #13bf9f;--colorSecondary: #13bf9f;--tr-color: #000000;--bodyBG: #fff;--bodyFontColor: #212529;--mainBG: #f8f8f8;--menuItemHovered: white;--headerBG: #ffffff;--headerFontColor: #000000;--headerBorderTop: 0px;--footerBG: #054f72;--footerFontColor: #ffffff;--anchorFontColor: #2c2e2f;--anchorFontColorHover: #13bf9f;--button-heigh: 50px;--buttonTextColor: #fff;--buttonBorderRadius: 3px;--buttonColorTextDisabled: #fff;--buttonBGDisabled: linear-gradient(129.54deg, var(--buttonBgGradient1) 0%, var(--buttonBgGradient2) 100%);--button-opacity: .65;--button-heigh: 56px;--btn-padding: 15px 12px;--buttonBgGradient1: #13b4bf;--buttonBgGradient2: #0a8f70;--buttonBG: linear-gradient(129.54deg, var(--buttonBgGradient1) 0%, var(--buttonBgGradient2) 100%);--buttonHoveredGradient1: #059c85;--buttonHoveredGradient2: #0a8f70;--buttonHovered: linear-gradient(129.54deg, var(--buttonHoveredGradient1) 0%, var(--buttonHoveredGradient2) 100%);--buttonClickedGradient1: #13b4bf;--buttonClickedGradient2: #008073;--buttonClicked: linear-gradient(129.54deg, var(--buttonClickedGradient1) 0%, var(--buttonClickedGradient2) 100%);--secondaryButtonTextColor: #dc3545;--secondaryButtonBG: white;--secondaryButtonHoveredTextColor: white;--secondaryButtonHovered: #dc3545;--secondaryButtonClickedTextColor: white;--secondaryButtonClicked: #dc3545;--secondaryButtonBorderStyle: 1px solid #dc3545;--inputBG: white;--inputBorderStyleLeft: 1px solid #a0a0a0;--inputBorderStyleRight: 1px solid #a0a0a0;--inputBorderStyleBottom: 1px solid #a0a0a0;--inputBorderStyleTop: 1px solid #a0a0a0;--inputBorderRadius: .25rem;--selectBG: white;--selectColor: #3b4151;--selectBorderStyleLeft: none;--selectBorderStyleRight: none;--selectBorderStyleBottom: none;--selectBorderStyleTop: none;--selectBorderRadius: none;--margin-form-group: 0 0 4rem 0;--form-group-height: 3.5rem;--border-bottom: none;--margin-top-icon: 6px;--arrow-url: url(/assets/icons/arrow-down.svg)}tr[_ngcontent-%COMP%]{cursor:pointer}tr[_ngcontent-%COMP%]:hover{background-color:#f3f3f3;transition:.4s}tr[_ngcontent-%COMP%]:first-of-type   th[_ngcontent-%COMP%]{border-top:none;padding-bottom:1.5rem}tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{color:#ababab}ul[_ngcontent-%COMP%]{list-style-type:none;margin:0;padding:0}.has-search[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{padding-left:2.375rem}.has-search[_ngcontent-%COMP%]   .form-control-feedback[_ngcontent-%COMP%]{position:absolute;margin-top:6px;z-index:2;display:block;width:2.375rem;height:2.375rem;line-height:2.375rem;text-align:center;pointer-events:none;color:#2c2e2f}@media (min-width: 768px) and (max-width: 1420px){.header[_ngcontent-%COMP%]{display:block;max-width:100%}.header__title[_ngcontent-%COMP%]{max-width:inherit}.header[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]{margin-left:15px}}.card[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff!important}\"]\n    });\n  }\n  return UsersComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}
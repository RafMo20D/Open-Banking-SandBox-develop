{"ast":null,"code":"/*\r\n * Copyright 2018-2023 adorsys GmbH & Co KG\r\n *\r\n * This program is free software: you can redistribute it and/or modify it\r\n * under the terms of the GNU Affero General Public License as published\r\n * by the Free Software Foundation, either version 3 of the License, or (at\r\n * your option) any later version. This program is distributed in the hope that\r\n * it will be useful, but WITHOUT ANY WARRANTY; without even the implied\r\n * warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.\r\n * See the GNU Affero General Public License for more details.\r\n *\r\n * You should have received a copy of the GNU Affero General Public License\r\n * along with this program. If not, see https://www.gnu.org/licenses/.\r\n *\r\n * This project is also available under a separate commercial license. You can\r\n * contact us at psd2@adorsys.com.\r\n */\nimport { EventEmitter } from '@angular/core';\nimport { UntypedFormBuilder, Validators } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/forms\";\nimport * as i2 from \"@angular/common\";\nfunction CertificateComponent_div_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 16);\n    i0.ɵɵtext(1, \"Common Name required\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction CertificateComponent_div_12_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 16);\n    i0.ɵɵtext(1, \" Authorization Number required \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction CertificateComponent_div_29_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 16);\n    i0.ɵɵtext(1, \" Organization Name required \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction CertificateComponent_div_38_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 16);\n    i0.ɵɵtext(1, \"Validity required\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction CertificateComponent_div_39_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 16);\n    i0.ɵɵtext(1, \" Validity should be from 1 to 999 \");\n    i0.ɵɵelementEnd();\n  }\n}\nconst _c0 = function (a0) {\n  return {\n    \"is-invalid\": a0\n  };\n};\nfunction CertificateComponent_div_45_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r10 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 17)(1, \"input\", 18);\n    i0.ɵɵlistener(\"change\", function CertificateComponent_div_45_Template_input_change_1_listener() {\n      i0.ɵɵrestoreView(_r10);\n      const ctx_r9 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r9.getSelectedCheckboxValue());\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(2, \"label\", 19);\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const role_r7 = ctx.$implicit;\n    const i_r8 = ctx.index;\n    const ctx_r5 = i0.ɵɵnextContext();\n    let tmp_3_0;\n    i0.ɵɵadvance(1);\n    i0.ɵɵpropertyInterpolate1(\"id\", \"inlineCheckbox\", i_r8, \"\");\n    i0.ɵɵproperty(\"checked\", role_r7.value)(\"formControl\", role_r7)(\"ngClass\", i0.ɵɵpureFunction1(6, _c0, ctx_r5.rolesOptionsError && ((tmp_3_0 = ctx_r5.certificateFormGroup.get(\"roles\")) == null ? null : tmp_3_0.touched)));\n    i0.ɵɵadvance(1);\n    i0.ɵɵpropertyInterpolate1(\"for\", \"inlineCheckbox\", i_r8, \"\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(ctx_r5.roles[i_r8]);\n  }\n}\nfunction CertificateComponent_div_46_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 20);\n    i0.ɵɵtext(1, \"You must select at least one option.\");\n    i0.ɵɵelementEnd();\n  }\n}\nexport let CertificateComponent = /*#__PURE__*/(() => {\n  class CertificateComponent {\n    constructor(formBuilder) {\n      this.formBuilder = formBuilder;\n      this.certificateValue = new EventEmitter();\n      this.rolesOptionsError = false;\n      this.roles = ['PIISP', 'PISP', 'AISP'];\n      this.selectedOptions = ['PIISP', 'PISP', 'AISP'];\n    }\n    ngOnInit() {\n      this.initializeCertificateGeneratorForm();\n      this.onChange();\n    }\n    addCheckboxControls() {\n      const arr = this.roles.map(() => {\n        return this.formBuilder.control(true);\n      });\n      return this.formBuilder.array(arr);\n    }\n    getSelectedCheckboxValue() {\n      this.selectedOptions = [];\n      this.checkboxArray.controls.forEach((control, i) => {\n        if (control.value) {\n          this.selectedOptions.push(this.roles[i]);\n        }\n      });\n      this.rolesOptionsError = this.selectedOptions.length <= 0;\n    }\n    onChange() {\n      this.certificateFormGroup.value.roles = this.selectedOptions;\n      const status = this.certificateFormGroup.valid && !this.rolesOptionsError;\n      if (status) {\n        this.certificateValue.emit(this.certificateFormGroup.value);\n      } else {\n        this.certificateValue.emit(false);\n      }\n    }\n    initializeCertificateGeneratorForm() {\n      this.certificateFormGroup = this.formBuilder.group({\n        authorizationNumber: ['ID12345', Validators.required],\n        organizationName: ['Awesome TPP', Validators.required],\n        countryName: ['Germany', Validators.required],\n        domainComponent: ['awesome-tpp.de', Validators.required],\n        localityName: ['Nuremberg', Validators.required],\n        organizationUnit: ['IT department', Validators.required],\n        stateOrProvinceName: ['Bayern', Validators.required],\n        commonName: ['XS2A Sandbox', Validators.required],\n        validity: ['365', [Validators.required, Validators.pattern('^[0-9]*$'), Validators.min(1), Validators.max(999)]],\n        roles: this.addCheckboxControls()\n      });\n    }\n    get checkboxArray() {\n      return this.certificateFormGroup.get('roles');\n    }\n    static #_ = this.ɵfac = function CertificateComponent_Factory(t) {\n      return new (t || CertificateComponent)(i0.ɵɵdirectiveInject(i1.UntypedFormBuilder));\n    };\n    static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: CertificateComponent,\n      selectors: [[\"app-certificate\"]],\n      outputs: {\n        certificateValue: \"certificateValue\"\n      },\n      decls: 47,\n      vars: 20,\n      consts: [[\"autocomplete\", \"off\", 3, \"formGroup\", \"change\"], [1, \"header__title\", \"mt-2\", \"mb-4\"], [1, \"mb-3\"], [\"autocomplete\", \"off\", \"formControlName\", \"commonName\", \"id\", \"commonName\", \"placeholder\", \"Common Name\", \"type\", \"text\", 1, \"form-control\", 3, \"ngClass\"], [\"class\", \"invalid-feedback d-block\", 4, \"ngIf\"], [\"autocomplete\", \"off\", \"formControlName\", \"authorizationNumber\", \"id\", \"authorizationNumber\", \"placeholder\", \"Authorization Number\", \"type\", \"text\", 1, \"form-control\", 3, \"ngClass\"], [\"autocomplete\", \"off\", \"formControlName\", \"countryName\", \"id\", \"country\", \"placeholder\", \"Country Name\", \"type\", \"text\", 1, \"form-control\"], [\"autocomplete\", \"off\", \"formControlName\", \"stateOrProvinceName\", \"id\", \"state\", \"placeholder\", \"State\", \"type\", \"text\", 1, \"form-control\"], [\"autocomplete\", \"off\", \"formControlName\", \"localityName\", \"id\", \"city\", \"placeholder\", \"City\", \"type\", \"text\", 1, \"form-control\"], [\"autocomplete\", \"off\", \"formControlName\", \"organizationName\", \"id\", \"organizationName\", \"placeholder\", \"Organization Name\", \"type\", \"text\", 1, \"form-control\", 3, \"ngClass\"], [\"autocomplete\", \"off\", \"formControlName\", \"domainComponent\", \"id\", \"domain\", \"placeholder\", \"Domain\", \"type\", \"text\", 1, \"form-control\"], [\"autocomplete\", \"off\", \"formControlName\", \"validity\", \"id\", \"validity\", \"placeholder\", \"Validity\", \"type\", \"number\", 1, \"form-control\", 3, \"ngClass\"], [\"autocomplete\", \"off\", \"formControlName\", \"organizationUnit\", \"id\", \"organizationUnit\", \"placeholder\", \"Organization Unit\", \"type\", \"text\", 1, \"form-control\"], [1, \"row\"], [\"class\", \"form-check mx-3 my-1 col\", 4, \"ngFor\", \"ngForOf\"], [\"class\", \"invalid-feedback d-block mx-3\", 4, \"ngIf\"], [1, \"invalid-feedback\", \"d-block\"], [1, \"form-check\", \"mx-3\", \"my-1\", \"col\"], [\"type\", \"checkbox\", 1, \"form-check-input\", 3, \"checked\", \"formControl\", \"ngClass\", \"id\", \"change\"], [1, \"form-check-label\", 3, \"for\"], [1, \"invalid-feedback\", \"d-block\", \"mx-3\"]],\n      template: function CertificateComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"form\", 0);\n          i0.ɵɵlistener(\"change\", function CertificateComponent_Template_form_change_0_listener() {\n            return ctx.onChange();\n          });\n          i0.ɵɵelementStart(1, \"div\", 1);\n          i0.ɵɵtext(2, \"Certificate generation\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(3, \"div\", 2)(4, \"label\");\n          i0.ɵɵtext(5, \"Common Name*\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelement(6, \"input\", 3);\n          i0.ɵɵtemplate(7, CertificateComponent_div_7_Template, 2, 0, \"div\", 4);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(8, \"div\", 2)(9, \"label\");\n          i0.ɵɵtext(10, \"Authorization Number*\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelement(11, \"input\", 5);\n          i0.ɵɵtemplate(12, CertificateComponent_div_12_Template, 2, 0, \"div\", 4);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(13, \"div\", 2)(14, \"label\");\n          i0.ɵɵtext(15, \"Country\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelement(16, \"input\", 6);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(17, \"div\", 2)(18, \"label\");\n          i0.ɵɵtext(19, \"State\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelement(20, \"input\", 7);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(21, \"div\", 2)(22, \"label\");\n          i0.ɵɵtext(23, \"City\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelement(24, \"input\", 8);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(25, \"div\", 2)(26, \"label\");\n          i0.ɵɵtext(27, \"Organization Name*\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelement(28, \"input\", 9);\n          i0.ɵɵtemplate(29, CertificateComponent_div_29_Template, 2, 0, \"div\", 4);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(30, \"div\", 2)(31, \"label\");\n          i0.ɵɵtext(32, \"Domain\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelement(33, \"input\", 10);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(34, \"div\", 2)(35, \"label\");\n          i0.ɵɵtext(36, \"Validity (days)*\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelement(37, \"input\", 11);\n          i0.ɵɵtemplate(38, CertificateComponent_div_38_Template, 2, 0, \"div\", 4);\n          i0.ɵɵtemplate(39, CertificateComponent_div_39_Template, 2, 0, \"div\", 4);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(40, \"div\", 2)(41, \"label\");\n          i0.ɵɵtext(42, \"Organization Unit\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelement(43, \"input\", 12);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(44, \"div\", 13);\n          i0.ɵɵtemplate(45, CertificateComponent_div_45_Template, 4, 8, \"div\", 14);\n          i0.ɵɵtemplate(46, CertificateComponent_div_46_Template, 2, 0, \"div\", 15);\n          i0.ɵɵelementEnd()();\n        }\n        if (rf & 2) {\n          let tmp_1_0;\n          let tmp_2_0;\n          let tmp_3_0;\n          let tmp_4_0;\n          let tmp_5_0;\n          let tmp_6_0;\n          let tmp_7_0;\n          let tmp_8_0;\n          let tmp_9_0;\n          i0.ɵɵproperty(\"formGroup\", ctx.certificateFormGroup);\n          i0.ɵɵadvance(6);\n          i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(12, _c0, ((tmp_1_0 = ctx.certificateFormGroup.get(\"commonName\")) == null ? null : tmp_1_0.errors) && ((tmp_1_0 = ctx.certificateFormGroup.get(\"commonName\")) == null ? null : tmp_1_0.touched)));\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", (tmp_2_0 = ctx.certificateFormGroup.get(\"commonName\")) == null ? null : tmp_2_0.errors == null ? null : tmp_2_0.errors.required);\n          i0.ɵɵadvance(4);\n          i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(14, _c0, ((tmp_3_0 = ctx.certificateFormGroup.get(\"authorizationNumber\")) == null ? null : tmp_3_0.errors) && ((tmp_3_0 = ctx.certificateFormGroup.get(\"authorizationNumber\")) == null ? null : tmp_3_0.touched)));\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", (tmp_4_0 = ctx.certificateFormGroup.get(\"authorizationNumber\")) == null ? null : tmp_4_0.errors == null ? null : tmp_4_0.errors.required);\n          i0.ɵɵadvance(16);\n          i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(16, _c0, ((tmp_5_0 = ctx.certificateFormGroup.get(\"organizationName\")) == null ? null : tmp_5_0.errors) && ((tmp_5_0 = ctx.certificateFormGroup.get(\"organizationName\")) == null ? null : tmp_5_0.touched)));\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", (tmp_6_0 = ctx.certificateFormGroup.get(\"organizationName\")) == null ? null : tmp_6_0.errors == null ? null : tmp_6_0.errors.required);\n          i0.ɵɵadvance(8);\n          i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(18, _c0, ((tmp_7_0 = ctx.certificateFormGroup.get(\"validity\")) == null ? null : tmp_7_0.errors) && ((tmp_7_0 = ctx.certificateFormGroup.get(\"validity\")) == null ? null : tmp_7_0.touched)));\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", (tmp_8_0 = ctx.certificateFormGroup.get(\"validity\")) == null ? null : tmp_8_0.errors == null ? null : tmp_8_0.errors.required);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", ((tmp_9_0 = ctx.certificateFormGroup.get(\"validity\")) == null ? null : tmp_9_0.errors == null ? null : tmp_9_0.errors.min) || ((tmp_9_0 = ctx.certificateFormGroup.get(\"validity\")) == null ? null : tmp_9_0.errors == null ? null : tmp_9_0.errors.max));\n          i0.ɵɵadvance(6);\n          i0.ɵɵproperty(\"ngForOf\", ctx.checkboxArray.controls);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", ctx.rolesOptionsError);\n        }\n      },\n      dependencies: [i2.NgClass, i2.NgForOf, i2.NgIf, i1.ɵNgNoValidate, i1.DefaultValueAccessor, i1.NumberValueAccessor, i1.CheckboxControlValueAccessor, i1.NgControlStatus, i1.NgControlStatusGroup, i1.FormControlDirective, i1.FormGroupDirective, i1.FormControlName],\n      styles: [\"[_ngcontent-%COMP%]:root{--fontFamily: \\\"Verdana\\\", sans-serif;--textFontSize: 1rem;--textFontWeight: bold;--textFontSize768px: 1rem;--textFontWeight768px: bold;--textFontSize1024px: 1rem;--textFontWeight1024px: bold;--h1FontSize: 2rem;--h1FontWeight: bold;--h2FontSize: 1.8rem;--h2FontWeight: 700;--h3FontSize: 1rem;--h3FontWeight: normal;--h1FontSize768px: 2rem;--h1FontWeight768px: bold;--h1FontSize1024px: 2rem;--h1FontWeight1024px: bold;--h2FontSize768px: 1.5rem;--h2FontWeight768px: bold;--h2FontSize1024px: 1.5rem;--h2FontWeight1024px: bold;--h3FontSize768px: 1rem;--h3FontWeight768px: normal;--h3FontSize1024px: 1rem;--h3FontWeight1024px: normal;--colorPrimary: #13bf9f;--colorSecondary: #13bf9f;--tr-color: #000000;--bodyBG: #fff;--bodyFontColor: #212529;--mainBG: #f8f8f8;--menuItemHovered: white;--headerBG: #ffffff;--headerFontColor: #000000;--headerBorderTop: 0px;--footerBG: #054f72;--footerFontColor: #ffffff;--anchorFontColor: #2c2e2f;--anchorFontColorHover: #13bf9f;--button-heigh: 50px;--buttonTextColor: #fff;--buttonBorderRadius: 3px;--buttonColorTextDisabled: #fff;--buttonBGDisabled: linear-gradient(129.54deg, var(--buttonBgGradient1) 0%, var(--buttonBgGradient2) 100%);--button-opacity: .65;--button-heigh: 56px;--btn-padding: 15px 12px;--buttonBgGradient1: #13b4bf;--buttonBgGradient2: #0a8f70;--buttonBG: linear-gradient(129.54deg, var(--buttonBgGradient1) 0%, var(--buttonBgGradient2) 100%);--buttonHoveredGradient1: #059c85;--buttonHoveredGradient2: #0a8f70;--buttonHovered: linear-gradient(129.54deg, var(--buttonHoveredGradient1) 0%, var(--buttonHoveredGradient2) 100%);--buttonClickedGradient1: #13b4bf;--buttonClickedGradient2: #008073;--buttonClicked: linear-gradient(129.54deg, var(--buttonClickedGradient1) 0%, var(--buttonClickedGradient2) 100%);--secondaryButtonTextColor: #dc3545;--secondaryButtonBG: white;--secondaryButtonHoveredTextColor: white;--secondaryButtonHovered: #dc3545;--secondaryButtonClickedTextColor: white;--secondaryButtonClicked: #dc3545;--secondaryButtonBorderStyle: 1px solid #dc3545;--inputBG: white;--inputBorderStyleLeft: 1px solid #a0a0a0;--inputBorderStyleRight: 1px solid #a0a0a0;--inputBorderStyleBottom: 1px solid #a0a0a0;--inputBorderStyleTop: 1px solid #a0a0a0;--inputBorderRadius: .25rem;--selectBG: white;--selectColor: #3b4151;--selectBorderStyleLeft: none;--selectBorderStyleRight: none;--selectBorderStyleBottom: none;--selectBorderStyleTop: none;--selectBorderRadius: none;--margin-form-group: 0 0 4rem 0;--form-group-height: 3.5rem;--border-bottom: none;--margin-top-icon: 6px;--arrow-url: url(/assets/icons/arrow-down.svg)}form[_ngcontent-%COMP%]{font-weight:100}.container-fluid[_ngcontent-%COMP%]{padding:0}.sticky-top[_ngcontent-%COMP%]{z-index:1000}.card[_ngcontent-%COMP%]{border:none}.card-title[_ngcontent-%COMP%]{font-size:2rem}.card__headline[_ngcontent-%COMP%]{margin-left:auto;margin-right:auto}.card__subtitle[_ngcontent-%COMP%]{font-size:1.1rem;color:#a0a0a0}.card[_ngcontent-%COMP%]   .card__subtitle[_ngcontent-%COMP%]{margin-bottom:1.5rem}.text-light-grey[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#a0a0a0}.text-light-green[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#059c85}.text-light-grey[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#a0a0a0}.btn[_ngcontent-%COMP%]{width:100%}.btn[_ngcontent-%COMP%]:disabled{opacity:1;background:var(--buttonBGDisabled);color:var(--buttonColorTextDisabled)}.flip-vertical[_ngcontent-%COMP%]{transform:scaleY(-1)}\"]\n    });\n  }\n  return CertificateComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}
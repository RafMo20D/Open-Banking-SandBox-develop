{"ast":null,"code":"import { UntypedFormBuilder, Validators } from '@angular/forms';\nimport { Router } from '@angular/router';\nimport { combineLatest, Subject } from 'rxjs';\nimport { InfoService } from '../../../commons/info/info.service';\nimport { AuthService } from '../../../services/auth.service';\nimport { CustomizeService } from '../../../services/customize.service';\nimport { SettingsService } from '../../../services/settings.service';\nimport { TppIdPatterns, TppIdType } from '../../../models/tpp-id-structure.model';\nimport { CountryService } from '../../../services/country.service';\nimport { TppUserService } from '../../../services/tpp.user.service';\nimport { PageNavigationService } from '../../../services/page-navigation.service';\nimport { TestDataGenerationService } from '../../../services/test.data.generation.service';\nimport { CertificateDownloadService } from '../../../services/certificate/certificate-download.service';\nimport { CertificateGenerationService } from '../../../services/certificate/certificate-generation.service';\nimport { takeUntil } from 'rxjs/operators';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../../services/auth.service\";\nimport * as i2 from \"../../../services/certificate/certificate-generation.service\";\nimport * as i3 from \"../../../services/certificate/certificate-download.service\";\nimport * as i4 from \"../../../services/test.data.generation.service\";\nimport * as i5 from \"../../../commons/info/info.service\";\nimport * as i6 from \"@angular/router\";\nimport * as i7 from \"@angular/forms\";\nimport * as i8 from \"../../../services/settings.service\";\nimport * as i9 from \"../../../services/customize.service\";\nimport * as i10 from \"../../../services/page-navigation.service\";\nimport * as i11 from \"../../../services/country.service\";\nimport * as i12 from \"../../../services/tpp.user.service\";\nimport * as i13 from \"@angular/common\";\nimport * as i14 from \"../certificate/certificate.component\";\nfunction RegisterComponent_div_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 34)(1, \"nav\", 35)(2, \"a\", 36);\n    i0.ɵɵelement(3, \"img\", 37);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"src\", ctx_r0.customizeService.getLogo(), i0.ɵɵsanitizeUrl);\n  }\n}\nconst _c0 = function (a0) {\n  return [a0];\n};\nfunction RegisterComponent_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 38)(1, \"div\", 39)(2, \"div\", 40)(3, \"button\", 41);\n    i0.ɵɵtext(4, \" < Back \");\n    i0.ɵɵelementEnd()()()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction1(1, _c0, ctx_r1.pageNavigationService.getLastVisitedPage()));\n  }\n}\nfunction RegisterComponent_div_8_span_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \"asastech\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction RegisterComponent_div_8_span_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \"adorsys \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction RegisterComponent_div_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 42)(1, \"h2\", 43);\n    i0.ɵɵtemplate(2, RegisterComponent_div_8_span_2_Template, 2, 0, \"span\", 14);\n    i0.ɵɵtext(3, \"TPP UI\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"div\", 44);\n    i0.ɵɵtext(5, \" Please register in order to use \");\n    i0.ɵɵtemplate(6, RegisterComponent_div_8_span_6_Template, 2, 0, \"span\", 14);\n    i0.ɵɵtext(7, \"TPP UI \");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r2.customizeService.isCustom());\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r2.customizeService.isCustom());\n  }\n}\nfunction RegisterComponent_ng_template_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 45)(1, \"h2\", 43);\n    i0.ɵɵtext(2, \"Create TPP\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction RegisterComponent_div_11_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 46);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r5 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r5.errorMessage, \" \");\n  }\n}\nfunction RegisterComponent_span_15_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \"Your\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction RegisterComponent_option_19_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 47);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const country_r21 = ctx.$implicit;\n    i0.ɵɵproperty(\"ngValue\", country_r21.code);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", country_r21.name, \" \");\n  }\n}\nfunction RegisterComponent_div_20_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 48);\n    i0.ɵɵtext(1, \"Country is required\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction RegisterComponent_span_24_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \"Your\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction RegisterComponent_div_31_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 48);\n    i0.ɵɵtext(1, \"TPP ID is Required\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction RegisterComponent_div_32_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 48);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r11 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate2(\" TPP ID has to consist of \", ctx_r11.tppIdStructure.length, \" \", ctx_r11.getTppIdTypeName(), \" \");\n  }\n}\nfunction RegisterComponent_div_33_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵelement(1, \"br\");\n    i0.ɵɵelementStart(2, \"label\");\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r12 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate2(\" Keep in mind, that TPP ID has to consist of \", ctx_r12.tppIdStructure.length, \" \", ctx_r12.getTppIdTypeName(), \". \");\n  }\n}\nfunction RegisterComponent_div_38_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 48);\n    i0.ɵɵtext(1, \"Email is required\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction RegisterComponent_div_39_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 48);\n    i0.ɵɵtext(1, \"Email is not valid\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction RegisterComponent_div_44_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 48);\n    i0.ɵɵtext(1, \"Login is Required\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction RegisterComponent_div_49_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 48);\n    i0.ɵɵtext(1, \"PIN is Required\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction RegisterComponent_div_50_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r25 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\")(1, \"div\", 50)(2, \"input\", 51);\n    i0.ɵɵlistener(\"change\", function RegisterComponent_div_50_div_1_Template_input_change_2_listener() {\n      i0.ɵɵrestoreView(_r25);\n      const ctx_r24 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r24.generateCertificate = !ctx_r24.generateCertificate);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"label\", 52);\n    i0.ɵɵtext(4, \"Generate Certificate\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const ctx_r22 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"checked\", ctx_r22.generateCertificate)(\"disabled\", ctx_r22.selectedCountry === undefined || ctx_r22.selectedCountry === \"\" || !ctx_r22.userForm.valid);\n  }\n}\nfunction RegisterComponent_div_50_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r27 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 53)(1, \"app-certificate\", 54);\n    i0.ɵɵlistener(\"certificateValue\", function RegisterComponent_div_50_div_2_Template_app_certificate_certificateValue_1_listener($event) {\n      i0.ɵɵrestoreView(_r27);\n      const ctx_r26 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r26.getCertificateValue($event));\n    });\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction RegisterComponent_div_50_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtemplate(1, RegisterComponent_div_50_div_1_Template, 5, 2, \"div\", 14);\n    i0.ɵɵtemplate(2, RegisterComponent_div_50_div_2_Template, 2, 0, \"div\", 49);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r17 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r17.isCertificateGeneratorEnabled);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r17.generateCertificate);\n  }\n}\nfunction RegisterComponent_a_54_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"a\", 55);\n    i0.ɵɵtext(1, \"Login\");\n    i0.ɵɵelementEnd();\n  }\n}\nconst _c1 = function (a0) {\n  return {\n    \"is-invalid\": a0\n  };\n};\nexport let RegisterComponent = /*#__PURE__*/(() => {\n  class RegisterComponent {\n    constructor(service, certificateGenerationService, certificateDownloadService, generationService, infoService, router, formBuilder, settingsService, customizeService, pageNavigationService, countryService, tppUserService) {\n      this.service = service;\n      this.certificateGenerationService = certificateGenerationService;\n      this.certificateDownloadService = certificateDownloadService;\n      this.generationService = generationService;\n      this.infoService = infoService;\n      this.router = router;\n      this.formBuilder = formBuilder;\n      this.settingsService = settingsService;\n      this.customizeService = customizeService;\n      this.pageNavigationService = pageNavigationService;\n      this.countryService = countryService;\n      this.tppUserService = tppUserService;\n      this.admin = false;\n      this.certificateValue = {};\n      this.selectedCountry = '';\n      this.countries = [];\n      this.showTppStructureMessage = false;\n      this.tppIdStructure = {\n        length: 8,\n        type: TppIdType.n\n      };\n      this.unsubscribe$ = new Subject();\n    }\n    ngOnDestroy() {\n      this.unsubscribe$.next();\n      this.unsubscribe$.complete();\n    }\n    selectCountry() {\n      if (this.userForm.controls['id']) {\n        this.userForm.controls['id'].setValue('');\n      }\n      if (this.userForm.disabled) {\n        document.getElementById('emptySelect').remove();\n      }\n      this.service.getTppIdStructure(this.selectedCountry).pipe(takeUntil(this.unsubscribe$)).subscribe(data => {\n        this.tppIdStructure = data;\n        this.changeIdValidators();\n        this.userForm.enable();\n        this.showTppStructureMessage = true;\n      }, () => this.infoService.openFeedback('Could not get TPP ID structure for this country!'));\n    }\n    changeIdValidators() {\n      this.userForm.get('id').setValidators([Validators.required, Validators.pattern(TppIdPatterns[this.tppIdStructure.type]), Validators.minLength(this.tppIdStructure.length), Validators.maxLength(this.tppIdStructure.length)]);\n    }\n    getTppIdTypeName() {\n      return TppIdType[this.tppIdStructure.type];\n    }\n    initializeCountryList() {\n      this.countryService.getCountryList().pipe(takeUntil(this.unsubscribe$)).subscribe(data => {\n        this.countries = data;\n        this.selectedCountry = '';\n      }, () => this.infoService.openFeedback('Could not download country list!'));\n    }\n    ngOnInit() {\n      this.tppUserService.currentTppUser.pipe(takeUntil(this.unsubscribe$)).subscribe(user => this.admin = user && user.userRoles.includes('SYSTEM'));\n      this.initializeCountryList();\n      this.initializeRegisterForm();\n    }\n    getCertificateValue(event) {\n      this.certificateValue = event;\n    }\n    get isCertificateGeneratorEnabled() {\n      return this.settingsService.settings.certGenEnabled;\n    }\n    onSubmit() {\n      if (this.userForm.invalid || !this.certificateValue) {\n        this.submitted = true;\n        return;\n      }\n      let message;\n      const navigateUrl = this.admin ? '/management' : '/login';\n      const messageBeginning = this.admin ? 'New TPP has ' : 'You have';\n      if (this.generateCertificate && this.certificateValue) {\n        combineLatest([this.service.register(this.userForm.value, this.selectedCountry), this.certificateGenerationService.generate(this.certificateValue)]).pipe(takeUntil(this.unsubscribe$)).subscribe(combinedData => {\n          const encodedCert = combinedData[1].encodedCert;\n          const privateKey = combinedData[1].privateKey;\n          this.certificateDownloadService.createZipUrl(encodedCert, privateKey).then(url => {\n            message = `${messageBeginning} been successfully registered and certificate generated. The download will start automatically within the 2 seconds`;\n            this.certificateDownloadService.navigateAndGiveFeedback({\n              navigateUrl: navigateUrl,\n              url: url,\n              message: message\n            });\n          });\n        }, data => {\n          this.userForm.reset();\n          this.infoService.openFeedback(data.error.message);\n        });\n      } else {\n        this.service.register(this.userForm.value, this.selectedCountry).pipe(takeUntil(this.unsubscribe$)).subscribe(() => {\n          message = `${messageBeginning} been successfully registered.`;\n          this.certificateDownloadService.navigateAndGiveFeedback({\n            navigateUrl: navigateUrl,\n            message: message\n          });\n        }, data => {\n          this.userForm.reset();\n          this.infoService.openFeedback(data.error.message);\n        });\n      }\n    }\n    generateTppId(countryCode) {\n      if (countryCode) {\n        return this.generationService.generateTppId(countryCode).pipe(takeUntil(this.unsubscribe$)).subscribe(data => {\n          this.userForm.get('id').setValue(data);\n          this.infoService.openFeedback('TPP ID has been successfully generated');\n        });\n      } else {\n        this.infoService.openFeedback('To generate TPP ID you need to select a country');\n      }\n    }\n    initializeRegisterForm() {\n      this.userForm = this.formBuilder.group({\n        id: '',\n        login: ['', Validators.required],\n        email: ['', [Validators.required, Validators.pattern(new RegExp(/^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/))]],\n        pin: ['', Validators.required]\n      });\n      this.userForm.disable();\n    }\n    static #_ = this.ɵfac = function RegisterComponent_Factory(t) {\n      return new (t || RegisterComponent)(i0.ɵɵdirectiveInject(i1.AuthService), i0.ɵɵdirectiveInject(i2.CertificateGenerationService), i0.ɵɵdirectiveInject(i3.CertificateDownloadService), i0.ɵɵdirectiveInject(i4.TestDataGenerationService), i0.ɵɵdirectiveInject(i5.InfoService), i0.ɵɵdirectiveInject(i6.Router), i0.ɵɵdirectiveInject(i7.UntypedFormBuilder), i0.ɵɵdirectiveInject(i8.SettingsService), i0.ɵɵdirectiveInject(i9.CustomizeService), i0.ɵɵdirectiveInject(i10.PageNavigationService), i0.ɵɵdirectiveInject(i11.CountryService), i0.ɵɵdirectiveInject(i12.TppUserService));\n    };\n    static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: RegisterComponent,\n      selectors: [[\"app-register\"]],\n      decls: 55,\n      vars: 34,\n      consts: [[\"class\", \"bg-sm-light sticky-top\", 4, \"ngIf\"], [\"class\", \"container-fluid bg-white\", 4, \"ngIf\"], [1, \"d-md-flex\", \"bg-white\", \"p-4\"], [1, \"col\"], [1, \"d-md-flex\", \"align-items-center\", \"h-100\", \"justify-content-center\"], [1, \"d-md-flex\", \"align-items-center\"], [1, \"card\", \"mxw-500\"], [1, \"card-body\"], [\"class\", \"card__headline text-center\", 4, \"ngIf\", \"ngIfElse\"], [\"adminCreate\", \"\"], [\"class\", \"alert alert-danger\", 4, \"ngIf\"], [1, \"form__margin\"], [1, \"mb-3\"], [\"for\", \"country\"], [4, \"ngIf\"], [\"name\", \"country\", \"id\", \"country\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\", \"change\"], [\"id\", \"emptySelect\", \"selected\", \"\", 3, \"ngValue\"], [3, \"ngValue\", 4, \"ngFor\", \"ngForOf\"], [\"class\", \"invalid-feedback\", 4, \"ngIf\"], [3, \"formGroup\", \"ngSubmit\"], [\"for\", \"id\"], [1, \"input-group\"], [\"autocomplete\", \"off\", \"formControlName\", \"id\", \"id\", \"id\", \"type\", \"text\", 1, \"form-control\", 3, \"ngClass\"], [1, \"input-group-append\"], [\"type\", \"button\", 1, \"btn\", \"btn-outline-secondary\", \"bg-light\", \"text-black-50\", \"mb-0\", 3, \"click\"], [\"for\", \"email\"], [\"autocomplete\", \"off\", \"formControlName\", \"email\", \"id\", \"email\", \"type\", \"email\", 1, \"form-control\", 3, \"ngClass\"], [\"for\", \"registerTTP\"], [\"autocomplete\", \"off\", \"formControlName\", \"login\", \"id\", \"registerTTP\", \"type\", \"text\", 1, \"form-control\", 3, \"ngClass\"], [\"for\", \"pin\"], [\"autocomplete\", \"new-password\", \"formControlName\", \"pin\", \"id\", \"pin\", \"type\", \"password\", 1, \"form-control\", 3, \"ngClass\"], [1, \"btn\", \"btn-primary\", \"btn-block\", \"mb-3\", 3, \"innerHTML\", \"disabled\"], [1, \"text-center\", \"text-light-grey\"], [\"routerLink\", \"/login\", 4, \"ngIf\"], [1, \"bg-sm-light\", \"sticky-top\"], [1, \"navbar\", \"navbar-light\", \"text-primary\", \"py-3\"], [\"href\", \"#\", 1, \"navbar-brand\"], [1, \"logo\", 3, \"src\"], [1, \"container-fluid\", \"bg-white\"], [1, \"row\"], [1, \"col-12\", \"col-sm-2\", \"p-5\"], [\"queryParamsHandling\", \"preserve\", 1, \"btn\", \"btn-sm\", \"btn-outline-secondary\", 3, \"routerLink\"], [1, \"card__headline\", \"text-center\"], [1, \"card-title\", \"font-weight-bold\"], [1, \"my-4\", \"card__subtitle\"], [1, \"card__headline\", \"text-center\", \"mb-4\"], [1, \"alert\", \"alert-danger\"], [3, \"ngValue\"], [1, \"invalid-feedback\"], [\"class\", \"\", 4, \"ngIf\"], [1, \"form-check\"], [\"id\", \"generateCertificate\", \"type\", \"checkbox\", 1, \"form-check-input\", 3, \"checked\", \"disabled\", \"change\"], [\"for\", \"generateCertificate\", 1, \"form-check-label\"], [1, \"\"], [3, \"certificateValue\"], [\"routerLink\", \"/login\"]],\n      template: function RegisterComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵtemplate(0, RegisterComponent_div_0_Template, 4, 1, \"div\", 0);\n          i0.ɵɵtemplate(1, RegisterComponent_div_1_Template, 5, 3, \"div\", 1);\n          i0.ɵɵelementStart(2, \"div\", 2)(3, \"div\", 3)(4, \"div\", 4)(5, \"div\", 5)(6, \"div\", 6)(7, \"div\", 7);\n          i0.ɵɵtemplate(8, RegisterComponent_div_8_Template, 8, 2, \"div\", 8);\n          i0.ɵɵtemplate(9, RegisterComponent_ng_template_9_Template, 3, 0, \"ng-template\", null, 9, i0.ɵɵtemplateRefExtractor);\n          i0.ɵɵtemplate(11, RegisterComponent_div_11_Template, 2, 1, \"div\", 10);\n          i0.ɵɵelementStart(12, \"div\", 11)(13, \"div\", 12)(14, \"label\", 13);\n          i0.ɵɵtemplate(15, RegisterComponent_span_15_Template, 2, 0, \"span\", 14);\n          i0.ɵɵtext(16, \" Country*\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(17, \"select\", 15);\n          i0.ɵɵlistener(\"ngModelChange\", function RegisterComponent_Template_select_ngModelChange_17_listener($event) {\n            return ctx.selectedCountry = $event;\n          })(\"change\", function RegisterComponent_Template_select_change_17_listener() {\n            return ctx.selectCountry();\n          });\n          i0.ɵɵelement(18, \"option\", 16);\n          i0.ɵɵtemplate(19, RegisterComponent_option_19_Template, 2, 2, \"option\", 17);\n          i0.ɵɵelementEnd();\n          i0.ɵɵtemplate(20, RegisterComponent_div_20_Template, 2, 0, \"div\", 18);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(21, \"form\", 19);\n          i0.ɵɵlistener(\"ngSubmit\", function RegisterComponent_Template_form_ngSubmit_21_listener() {\n            return ctx.onSubmit();\n          });\n          i0.ɵɵelementStart(22, \"div\", 12)(23, \"label\", 20);\n          i0.ɵɵtemplate(24, RegisterComponent_span_24_Template, 2, 0, \"span\", 14);\n          i0.ɵɵtext(25, \" TPP ID*\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(26, \"div\", 21);\n          i0.ɵɵelement(27, \"input\", 22);\n          i0.ɵɵelementStart(28, \"div\", 23)(29, \"button\", 24);\n          i0.ɵɵlistener(\"click\", function RegisterComponent_Template_button_click_29_listener() {\n            return ctx.generateTppId(ctx.selectedCountry);\n          });\n          i0.ɵɵtext(30, \" Generate TPP ID \");\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵtemplate(31, RegisterComponent_div_31_Template, 2, 0, \"div\", 18);\n          i0.ɵɵtemplate(32, RegisterComponent_div_32_Template, 2, 2, \"div\", 18);\n          i0.ɵɵtemplate(33, RegisterComponent_div_33_Template, 4, 2, \"div\", 14);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(34, \"div\", 12)(35, \"label\", 25);\n          i0.ɵɵtext(36, \"E-Mail Address*\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelement(37, \"input\", 26);\n          i0.ɵɵtemplate(38, RegisterComponent_div_38_Template, 2, 0, \"div\", 18);\n          i0.ɵɵtemplate(39, RegisterComponent_div_39_Template, 2, 0, \"div\", 18);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(40, \"div\", 12)(41, \"label\", 27);\n          i0.ɵɵtext(42, \"Login*\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelement(43, \"input\", 28);\n          i0.ɵɵtemplate(44, RegisterComponent_div_44_Template, 2, 0, \"div\", 18);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(45, \"div\", 12)(46, \"label\", 29);\n          i0.ɵɵtext(47, \"PIN*\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelement(48, \"input\", 30);\n          i0.ɵɵtemplate(49, RegisterComponent_div_49_Template, 2, 0, \"div\", 18);\n          i0.ɵɵelementEnd();\n          i0.ɵɵtemplate(50, RegisterComponent_div_50_Template, 3, 2, \"div\", 14);\n          i0.ɵɵelementStart(51, \"div\");\n          i0.ɵɵelement(52, \"button\", 31);\n          i0.ɵɵelementStart(53, \"div\", 32);\n          i0.ɵɵtemplate(54, RegisterComponent_a_54_Template, 2, 0, \"a\", 33);\n          i0.ɵɵelementEnd()()()()()()()()()();\n        }\n        if (rf & 2) {\n          const _r3 = i0.ɵɵreference(10);\n          let tmp_8_0;\n          let tmp_11_0;\n          let tmp_12_0;\n          let tmp_13_0;\n          let tmp_15_0;\n          let tmp_16_0;\n          let tmp_17_0;\n          let tmp_18_0;\n          let tmp_19_0;\n          let tmp_20_0;\n          let tmp_21_0;\n          i0.ɵɵproperty(\"ngIf\", !ctx.admin);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", ctx.admin);\n          i0.ɵɵadvance(7);\n          i0.ɵɵproperty(\"ngIf\", !ctx.admin)(\"ngIfElse\", _r3);\n          i0.ɵɵadvance(3);\n          i0.ɵɵproperty(\"ngIf\", ctx.errorMessage);\n          i0.ɵɵadvance(4);\n          i0.ɵɵproperty(\"ngIf\", !ctx.admin);\n          i0.ɵɵadvance(2);\n          i0.ɵɵproperty(\"ngModel\", ctx.selectedCountry);\n          i0.ɵɵadvance(2);\n          i0.ɵɵproperty(\"ngForOf\", ctx.countries);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", (tmp_8_0 = ctx.userForm.get(\"id\")) == null ? null : tmp_8_0.errors == null ? null : tmp_8_0.errors.required);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"formGroup\", ctx.userForm);\n          i0.ɵɵadvance(3);\n          i0.ɵɵproperty(\"ngIf\", !ctx.admin);\n          i0.ɵɵadvance(3);\n          i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(26, _c1, ((tmp_11_0 = ctx.userForm.get(\"id\")) == null ? null : tmp_11_0.errors) && ((tmp_11_0 = ctx.userForm.get(\"id\")) == null ? null : tmp_11_0.touched) || ctx.submitted && ((tmp_11_0 = ctx.userForm.get(\"id\")) == null ? null : tmp_11_0.errors)));\n          i0.ɵɵadvance(4);\n          i0.ɵɵproperty(\"ngIf\", (tmp_12_0 = ctx.userForm.get(\"id\")) == null ? null : tmp_12_0.errors == null ? null : tmp_12_0.errors.required);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", (tmp_13_0 = ctx.userForm.get(\"id\")) == null ? null : tmp_13_0.errors);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", ctx.showTppStructureMessage);\n          i0.ɵɵadvance(4);\n          i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(28, _c1, ((tmp_15_0 = ctx.userForm.get(\"email\")) == null ? null : tmp_15_0.errors) && ((tmp_15_0 = ctx.userForm.get(\"email\")) == null ? null : tmp_15_0.touched) || ctx.submitted && ((tmp_15_0 = ctx.userForm.get(\"email\")) == null ? null : tmp_15_0.errors)));\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", (tmp_16_0 = ctx.userForm.get(\"email\")) == null ? null : tmp_16_0.errors == null ? null : tmp_16_0.errors.required);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", (tmp_17_0 = ctx.userForm.get(\"email\")) == null ? null : tmp_17_0.hasError(\"pattern\"));\n          i0.ɵɵadvance(4);\n          i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(30, _c1, ((tmp_18_0 = ctx.userForm.get(\"login\")) == null ? null : tmp_18_0.errors) && ((tmp_18_0 = ctx.userForm.get(\"login\")) == null ? null : tmp_18_0.touched) || ctx.submitted && ((tmp_18_0 = ctx.userForm.get(\"login\")) == null ? null : tmp_18_0.errors)));\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", (tmp_19_0 = ctx.userForm.get(\"login\")) == null ? null : tmp_19_0.errors == null ? null : tmp_19_0.errors.required);\n          i0.ɵɵadvance(4);\n          i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(32, _c1, ((tmp_20_0 = ctx.userForm.get(\"pin\")) == null ? null : tmp_20_0.errors) && ((tmp_20_0 = ctx.userForm.get(\"pin\")) == null ? null : tmp_20_0.touched) || ctx.submitted && ((tmp_20_0 = ctx.userForm.get(\"pin\")) == null ? null : tmp_20_0.errors)));\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", (tmp_21_0 = ctx.userForm.get(\"pin\")) == null ? null : tmp_21_0.errors == null ? null : tmp_21_0.errors.required);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", !ctx.admin);\n          i0.ɵɵadvance(2);\n          i0.ɵɵproperty(\"innerHTML\", !ctx.generateCertificate ? \"Register\" : \"Register & Generate\", i0.ɵɵsanitizeHtml)(\"disabled\", ctx.selectedCountry == undefined || !ctx.userForm.valid);\n          i0.ɵɵadvance(2);\n          i0.ɵɵproperty(\"ngIf\", !ctx.admin);\n        }\n      },\n      dependencies: [i13.NgClass, i13.NgForOf, i13.NgIf, i6.RouterLink, i7.ɵNgNoValidate, i7.NgSelectOption, i7.ɵNgSelectMultipleOption, i7.DefaultValueAccessor, i7.SelectControlValueAccessor, i7.NgControlStatus, i7.NgControlStatusGroup, i7.NgModel, i7.FormGroupDirective, i7.FormControlName, i14.CertificateComponent],\n      styles: [\"[_ngcontent-%COMP%]:root{--fontFamily: \\\"Verdana\\\", sans-serif;--textFontSize: 1rem;--textFontWeight: bold;--textFontSize768px: 1rem;--textFontWeight768px: bold;--textFontSize1024px: 1rem;--textFontWeight1024px: bold;--h1FontSize: 2rem;--h1FontWeight: bold;--h2FontSize: 1.8rem;--h2FontWeight: 700;--h3FontSize: 1rem;--h3FontWeight: normal;--h1FontSize768px: 2rem;--h1FontWeight768px: bold;--h1FontSize1024px: 2rem;--h1FontWeight1024px: bold;--h2FontSize768px: 1.5rem;--h2FontWeight768px: bold;--h2FontSize1024px: 1.5rem;--h2FontWeight1024px: bold;--h3FontSize768px: 1rem;--h3FontWeight768px: normal;--h3FontSize1024px: 1rem;--h3FontWeight1024px: normal;--colorPrimary: #13bf9f;--colorSecondary: #13bf9f;--tr-color: #000000;--bodyBG: #fff;--bodyFontColor: #212529;--mainBG: #f8f8f8;--menuItemHovered: white;--headerBG: #ffffff;--headerFontColor: #000000;--headerBorderTop: 0px;--footerBG: #054f72;--footerFontColor: #ffffff;--anchorFontColor: #2c2e2f;--anchorFontColorHover: #13bf9f;--button-heigh: 50px;--buttonTextColor: #fff;--buttonBorderRadius: 3px;--buttonColorTextDisabled: #fff;--buttonBGDisabled: linear-gradient(129.54deg, var(--buttonBgGradient1) 0%, var(--buttonBgGradient2) 100%);--button-opacity: .65;--button-heigh: 56px;--btn-padding: 15px 12px;--buttonBgGradient1: #13b4bf;--buttonBgGradient2: #0a8f70;--buttonBG: linear-gradient(129.54deg, var(--buttonBgGradient1) 0%, var(--buttonBgGradient2) 100%);--buttonHoveredGradient1: #059c85;--buttonHoveredGradient2: #0a8f70;--buttonHovered: linear-gradient(129.54deg, var(--buttonHoveredGradient1) 0%, var(--buttonHoveredGradient2) 100%);--buttonClickedGradient1: #13b4bf;--buttonClickedGradient2: #008073;--buttonClicked: linear-gradient(129.54deg, var(--buttonClickedGradient1) 0%, var(--buttonClickedGradient2) 100%);--secondaryButtonTextColor: #dc3545;--secondaryButtonBG: white;--secondaryButtonHoveredTextColor: white;--secondaryButtonHovered: #dc3545;--secondaryButtonClickedTextColor: white;--secondaryButtonClicked: #dc3545;--secondaryButtonBorderStyle: 1px solid #dc3545;--inputBG: white;--inputBorderStyleLeft: 1px solid #a0a0a0;--inputBorderStyleRight: 1px solid #a0a0a0;--inputBorderStyleBottom: 1px solid #a0a0a0;--inputBorderStyleTop: 1px solid #a0a0a0;--inputBorderRadius: .25rem;--selectBG: white;--selectColor: #3b4151;--selectBorderStyleLeft: none;--selectBorderStyleRight: none;--selectBorderStyleBottom: none;--selectBorderStyleTop: none;--selectBorderRadius: none;--margin-form-group: 0 0 4rem 0;--form-group-height: 3.5rem;--border-bottom: none;--margin-top-icon: 6px;--arrow-url: url(/assets/icons/arrow-down.svg)}form[_ngcontent-%COMP%]{font-weight:100}.container-fluid[_ngcontent-%COMP%]{padding:0}.sticky-top[_ngcontent-%COMP%]{z-index:1000}.card[_ngcontent-%COMP%]{border:none}.card-title[_ngcontent-%COMP%]{font-size:2rem}.card__headline[_ngcontent-%COMP%]{margin-left:auto;margin-right:auto}.card__subtitle[_ngcontent-%COMP%]{font-size:1.1rem;color:#a0a0a0}.card[_ngcontent-%COMP%]   .card__subtitle[_ngcontent-%COMP%]{margin-bottom:1.5rem}.text-light-grey[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#a0a0a0}.text-light-green[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#059c85}.text-light-grey[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#a0a0a0}.btn[_ngcontent-%COMP%]{width:100%}.btn[_ngcontent-%COMP%]:disabled{opacity:1;background:var(--buttonBGDisabled);color:var(--buttonColorTextDisabled)}.flip-vertical[_ngcontent-%COMP%]{transform:scaleY(-1)}\"]\n    });\n  }\n  return RegisterComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}
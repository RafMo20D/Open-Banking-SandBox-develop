{"ast":null,"code":"import { AccountService } from '../../services/account.service';\nimport { Router, ActivatedRoute } from '@angular/router';\nimport { Subscription } from 'rxjs';\nimport { tap, debounceTime } from 'rxjs/operators';\nimport { UntypedFormBuilder, Validators, UntypedFormControl } from '@angular/forms';\nimport { PageNavigationService } from '../../services/page-navigation.service';\nimport { TppManagementService } from '../../services/tpp-management.service';\nimport { TppUserService } from '../../services/tpp.user.service';\nimport { CountryService } from '../../services/country.service';\nimport { ADMIN_KEY } from '../../commons/constant/constant';\nimport { NgbModal } from '@ng-bootstrap/ng-bootstrap';\nimport { InfoService } from '../../commons/info/info.service';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../services/account.service\";\nimport * as i2 from \"@angular/forms\";\nimport * as i3 from \"@angular/router\";\nimport * as i4 from \"../../services/country.service\";\nimport * as i5 from \"../../services/page-navigation.service\";\nimport * as i6 from \"../../services/tpp-management.service\";\nimport * as i7 from \"../../commons/info/info.service\";\nimport * as i8 from \"../../services/tpp.user.service\";\nimport * as i9 from \"@ng-bootstrap/ng-bootstrap\";\nimport * as i10 from \"@angular/common\";\nimport * as i11 from \"@angular/material/icon\";\nimport * as i12 from \"@angular/material/button\";\nimport * as i13 from \"@angular/material/tooltip\";\nimport * as i14 from \"../../commons/pagination-container/pagination-container.component\";\nfunction AccountListComponent_div_19_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 29)(1, \"label\", 30);\n    i0.ɵɵtext(2, \"TPP ID:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"div\", 31);\n    i0.ɵɵelement(4, \"input\", 32);\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction AccountListComponent_div_19_div_4_option_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 38);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const country_r7 = ctx.$implicit;\n    i0.ɵɵproperty(\"ngValue\", country_r7.code);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", country_r7.name, \" \");\n  }\n}\nfunction AccountListComponent_div_19_div_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 33)(1, \"label\", 30);\n    i0.ɵɵtext(2, \"Country:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"div\", 34)(4, \"select\", 35);\n    i0.ɵɵelement(5, \"option\", 36);\n    i0.ɵɵtemplate(6, AccountListComponent_div_19_div_4_option_6_Template, 2, 2, \"option\", 37);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const ctx_r4 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(6);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r4.countries);\n  }\n}\nconst _c0 = function (a0) {\n  return {\n    active: a0\n  };\n};\nfunction AccountListComponent_div_19_div_5_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r9 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 25)(1, \"button\", 39);\n    i0.ɵɵlistener(\"click\", function AccountListComponent_div_19_div_5_Template_button_click_1_listener() {\n      i0.ɵɵrestoreView(_r9);\n      const ctx_r8 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r8.setBlocked(false));\n    });\n    i0.ɵɵtext(2, \" Active \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"button\", 39);\n    i0.ɵɵlistener(\"click\", function AccountListComponent_div_19_div_5_Template_button_click_3_listener() {\n      i0.ɵɵrestoreView(_r9);\n      const ctx_r10 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r10.setBlocked(true));\n    });\n    i0.ɵɵtext(4, \" Blocked \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"button\", 39);\n    i0.ɵɵlistener(\"click\", function AccountListComponent_div_19_div_5_Template_button_click_5_listener() {\n      i0.ɵɵrestoreView(_r9);\n      const ctx_r11 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r11.showAllTpps());\n    });\n    i0.ɵɵtext(6, \" Reset Filters \");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r5 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(3, _c0, ctx_r5.searchForm.controls.blocked.value === false));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(5, _c0, ctx_r5.searchForm.controls.blocked.value === true));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(7, _c0, ctx_r5.isSearchFormEmpty()));\n  }\n}\nfunction AccountListComponent_div_19_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 24)(1, \"div\", 22)(2, \"div\", 25);\n    i0.ɵɵtemplate(3, AccountListComponent_div_19_div_3_Template, 5, 0, \"div\", 26);\n    i0.ɵɵtemplate(4, AccountListComponent_div_19_div_4_Template, 7, 1, \"div\", 27);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(5, AccountListComponent_div_19_div_5_Template, 7, 9, \"div\", 28);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.admin === \"true\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.admin === \"true\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.admin === \"true\");\n  }\n}\nfunction AccountListComponent_th_31_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 19);\n    i0.ɵɵtext(1, \"TPP ID\");\n    i0.ɵɵelementEnd();\n  }\n}\nconst _c1 = function (a0) {\n  return [a0];\n};\nconst _c2 = function (a0) {\n  return {\n    page: a0\n  };\n};\nconst _c3 = function (a0) {\n  return {\n    \"disabled-text\": a0\n  };\n};\nfunction AccountListComponent_tr_41_td_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\")(1, \"a\", 51);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const account_r12 = i0.ɵɵnextContext().$implicit;\n    const ctx_r14 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction1(4, _c1, ctx_r14.createLastVisitedPageLink(account_r12.branch)))(\"queryParams\", i0.ɵɵpureFunction1(6, _c2, ctx_r14.config.currentPageNumber))(\"ngClass\", i0.ɵɵpureFunction1(8, _c3, account_r12.blocked));\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\"\", account_r12.branch, \" \");\n  }\n}\nfunction AccountListComponent_tr_41_button_17_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r25 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 52);\n    i0.ɵɵlistener(\"click\", function AccountListComponent_tr_41_button_17_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r25);\n      const account_r12 = i0.ɵɵnextContext().$implicit;\n      const ctx_r23 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r23.goToDepositCash(account_r12));\n    });\n    i0.ɵɵelementStart(1, \"mat-icon\");\n    i0.ɵɵtext(2, \"account_balance\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const account_r12 = i0.ɵɵnextContext().$implicit;\n    const ctx_r15 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"matTooltipPosition\", ctx_r15.position.value)(\"disabled\", !ctx_r15.isAccountEnabled(account_r12));\n  }\n}\nfunction AccountListComponent_tr_41_mat_icon_19_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-icon\");\n    i0.ɵɵtext(1, \"lock\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction AccountListComponent_tr_41_mat_icon_20_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-icon\");\n    i0.ɵɵtext(1, \"lock_open\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction AccountListComponent_tr_41_ng_template_21_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r29 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 53)(1, \"h4\", 54);\n    i0.ɵɵtext(2, \"Account deletion\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"button\", 55);\n    i0.ɵɵlistener(\"click\", function AccountListComponent_tr_41_ng_template_21_Template_button_click_3_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r29);\n      const modal_r27 = restoredCtx.$implicit;\n      return i0.ɵɵresetView(modal_r27.dismiss(\"Cross click\"));\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(4, \"div\", 56);\n    i0.ɵɵtext(5, \"Are you sure you want to delete this Account?\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"div\", 57)(7, \"button\", 58);\n    i0.ɵɵlistener(\"click\", function AccountListComponent_tr_41_ng_template_21_Template_button_click_7_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r29);\n      const modal_r27 = restoredCtx.$implicit;\n      return i0.ɵɵresetView(modal_r27.dismiss(\"cancel click\"));\n    });\n    i0.ɵɵtext(8, \" Cancel \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"button\", 59);\n    i0.ɵɵlistener(\"click\", function AccountListComponent_tr_41_ng_template_21_Template_button_click_9_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r29);\n      const modal_r27 = restoredCtx.$implicit;\n      return i0.ɵɵresetView(modal_r27.close(\"Ok click\"));\n    });\n    i0.ɵɵtext(10, \"Delete\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction AccountListComponent_tr_41_ng_template_23_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r34 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 53)(1, \"h4\", 60);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"button\", 55);\n    i0.ɵɵlistener(\"click\", function AccountListComponent_tr_41_ng_template_23_Template_button_click_3_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r34);\n      const modal_r32 = restoredCtx.$implicit;\n      return i0.ɵɵresetView(modal_r32.dismiss(\"Cross click\"));\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(4, \"div\", 56);\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"div\", 57)(7, \"button\", 58);\n    i0.ɵɵlistener(\"click\", function AccountListComponent_tr_41_ng_template_23_Template_button_click_7_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r34);\n      const modal_r32 = restoredCtx.$implicit;\n      return i0.ɵɵresetView(modal_r32.dismiss(\"cancel click\"));\n    });\n    i0.ɵɵtext(8, \" Cancel \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"button\", 59);\n    i0.ɵɵlistener(\"click\", function AccountListComponent_tr_41_ng_template_23_Template_button_click_9_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r34);\n      const modal_r32 = restoredCtx.$implicit;\n      return i0.ɵɵresetView(modal_r32.close(\"Ok click\"));\n    });\n    i0.ɵɵtext(10);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const account_r12 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"Account \", account_r12.blocked ? \"unblocking\" : \"blocking\", \"\");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" Are you sure you want to \", account_r12.blocked ? \"Unblock\" : \"Block\", \" this Account? \");\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate1(\" \", account_r12.blocked ? \"Unblock\" : \"Block\", \" \");\n  }\n}\nconst _c4 = function (a0, a1) {\n  return {\n    page: a0,\n    tppId: a1\n  };\n};\nfunction AccountListComponent_tr_41_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r39 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tr\", 40)(1, \"th\", 41);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\", 42);\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\", 42);\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"td\", 42);\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(9, AccountListComponent_tr_41_td_9_Template, 3, 10, \"td\", 43);\n    i0.ɵɵelementStart(10, \"td\", 44);\n    i0.ɵɵtext(11);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"td\", 44);\n    i0.ɵɵtext(13);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(14, \"td\", 44);\n    i0.ɵɵtext(15);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(16, \"td\", 45);\n    i0.ɵɵtemplate(17, AccountListComponent_tr_41_button_17_Template, 3, 2, \"button\", 46);\n    i0.ɵɵelementStart(18, \"button\", 47);\n    i0.ɵɵlistener(\"click\", function AccountListComponent_tr_41_Template_button_click_18_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r39);\n      const account_r12 = restoredCtx.$implicit;\n      const _r20 = i0.ɵɵreference(24);\n      const ctx_r38 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r38.openConfirmation(_r20, account_r12.id, account_r12.blocked ? \"block\" : \"unblock\"));\n    });\n    i0.ɵɵtemplate(19, AccountListComponent_tr_41_mat_icon_19_Template, 2, 0, \"mat-icon\", 43);\n    i0.ɵɵtemplate(20, AccountListComponent_tr_41_mat_icon_20_Template, 2, 0, \"mat-icon\", 43);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(21, AccountListComponent_tr_41_ng_template_21_Template, 11, 0, \"ng-template\", null, 48, i0.ɵɵtemplateRefExtractor);\n    i0.ɵɵtemplate(23, AccountListComponent_tr_41_ng_template_23_Template, 11, 3, \"ng-template\", null, 49, i0.ɵɵtemplateRefExtractor);\n    i0.ɵɵelementStart(25, \"button\", 50);\n    i0.ɵɵlistener(\"click\", function AccountListComponent_tr_41_Template_button_click_25_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r39);\n      const account_r12 = restoredCtx.$implicit;\n      const _r18 = i0.ɵɵreference(22);\n      const ctx_r40 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r40.openConfirmation(_r18, account_r12.id, \"delete\"));\n    });\n    i0.ɵɵelementStart(26, \"mat-icon\");\n    i0.ɵɵtext(27, \"delete\");\n    i0.ɵɵelementEnd()()()();\n  }\n  if (rf & 2) {\n    const account_r12 = ctx.$implicit;\n    const i_r13 = ctx.index;\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(25, _c3, account_r12.blocked));\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction1(27, _c1, ctx_r2.createAccountDetailsLink(account_r12.id)));\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", (ctx_r2.config.currentPageNumber - 1) * ctx_r2.config.itemsPerPage + i_r13 + 1, \" \");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction1(29, _c1, ctx_r2.createAccountDetailsLink(account_r12.id)))(\"queryParams\", i0.ɵɵpureFunction2(31, _c4, ctx_r2.config.currentPageNumber, account_r12.branch));\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", account_r12.iban, \" \");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction1(34, _c1, ctx_r2.createAccountDetailsLink(account_r12.id)))(\"queryParams\", i0.ɵɵpureFunction2(36, _c4, ctx_r2.config.currentPageNumber, account_r12.branch));\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", (account_r12.balances == null ? null : account_r12.balances.length) >= 0 ? account_r12.balances[0].amount == null ? null : account_r12.balances[0].amount.amount : \"\", \" \");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction1(39, _c1, ctx_r2.createAccountDetailsLink(account_r12.id)))(\"queryParams\", i0.ɵɵpureFunction2(41, _c4, ctx_r2.config.currentPageNumber, account_r12.branch));\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", account_r12.currency, \" \");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.admin === \"true\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction1(44, _c1, ctx_r2.createAccountDetailsLink(account_r12.id)));\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", account_r12.accountType, \" \");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction1(46, _c1, ctx_r2.createAccountDetailsLink(account_r12.id)));\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", account_r12.usageType, \" \");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction1(48, _c1, ctx_r2.createAccountDetailsLink(account_r12.id)));\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", account_r12.blocked ? \"Blocked\" : \"Active\", \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", !account_r12.blocked);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"matTooltip\", !account_r12.blocked ? \"Block the account\" : \"Unblock the account\")(\"matTooltipPosition\", ctx_r2.position.value);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !account_r12.blocked);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", account_r12.blocked);\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"matTooltipPosition\", ctx_r2.position.value);\n  }\n}\nconst _c5 = function (a0) {\n  return {\n    \"configs-container\": a0\n  };\n};\n// TODO Merge UsersComponent, TppsComponent and AccountListComponent into one single component\n//  https://git.adorsys.de/adorsys/xs2a/psd2-dynamic-sandbox/-/issues/713\nexport let AccountListComponent = /*#__PURE__*/(() => {\n  class AccountListComponent {\n    constructor(accountService, formBuilder, router, countryService, pageNavigationService, tppManagementService, infoService, tppUserService, route, modalService) {\n      this.accountService = accountService;\n      this.formBuilder = formBuilder;\n      this.router = router;\n      this.countryService = countryService;\n      this.pageNavigationService = pageNavigationService;\n      this.tppManagementService = tppManagementService;\n      this.infoService = infoService;\n      this.tppUserService = tppUserService;\n      this.route = route;\n      this.modalService = modalService;\n      this.users = [];\n      this.accounts = [];\n      this.subscription = new Subscription();\n      this.countries = [];\n      this.config = {\n        itemsPerPage: 10,\n        currentPageNumber: 1,\n        totalItems: 0\n      };\n      this.positionOptions = ['above', 'before', 'after', 'below', 'left', 'right'];\n      this.position = new UntypedFormControl(this.positionOptions[0]);\n      this.searchForm = this.formBuilder.group({\n        ibanParam: '',\n        tppId: '',\n        tppLogin: '',\n        country: '',\n        blocked: '',\n        itemsPerPage: [this.config.itemsPerPage, Validators.required]\n      });\n    }\n    ngOnInit() {\n      this.admin = sessionStorage.getItem(ADMIN_KEY);\n      this.getPageConfigs();\n      this.getCountries();\n      this.getCurrentData();\n      this.onQueryUsers();\n    }\n    getAccounts(page, size, params) {\n      if (this.admin === 'true') {\n        this.tppManagementService.getAllAccounts(page - 1, size, params).subscribe(response => {\n          this.accounts = response.accounts;\n          this.config.totalItems = response.totalElements;\n        });\n      } else if (this.admin === 'false') {\n        this.accountService.getAccounts(page - 1, size, params.ibanParam).subscribe(response => {\n          this.accounts = response.accounts;\n          this.config.totalItems = response.totalElements;\n        });\n      }\n    }\n    goToDepositCash(account) {\n      if (!this.isAccountEnabled(account)) {\n        return false;\n      }\n      this.router.navigate(['/accounts/' + account.id + '/deposit-cash']);\n    }\n    isAccountEnabled(account) {\n      return account.accountStatus !== 'DELETED';\n    }\n    pageChange(pageConfig) {\n      const tppId = this.searchForm.get('tppId').value;\n      this.getAccounts(pageConfig.pageNumber, pageConfig.pageSize, {\n        ibanParam: this.searchForm.get('ibanParam').value,\n        tppId: tppId,\n        tppLogin: this.searchForm.get('tppLogin').value,\n        country: this.searchForm.get('country').value,\n        blocked: this.searchForm.get('blocked').value\n      });\n    }\n    ngOnDestroy() {\n      this.subscription.unsubscribe();\n    }\n    onQueryUsers() {\n      this.searchForm.valueChanges.pipe(tap(val => {\n        this.searchForm.patchValue(val, {\n          emitEvent: false\n        });\n      }), debounceTime(750)).subscribe(form => {\n        this.config.itemsPerPage = form.itemsPerPage;\n        this.getAccounts(1, this.config.itemsPerPage, {\n          ibanParam: form.ibanParam,\n          tppId: form.tppId,\n          tppLogin: form.tppLogin,\n          country: form.country,\n          blocked: form.blocked\n        });\n      });\n    }\n    changePageSize(num) {\n      this.config.itemsPerPage = this.config.itemsPerPage + num;\n    }\n    createAccountDetailsLink(id) {\n      const baseLink = '/accounts/';\n      this.pageNavigationService.setLastVisitedPage(baseLink);\n      return `${baseLink}${id}`;\n    }\n    createLastVisitedPageLink(id) {\n      this.pageNavigationService.setLastVisitedPage('/accounts');\n      return `/profile/${id}`;\n    }\n    setBlocked(blocked) {\n      this.searchForm.controls.blocked.patchValue(blocked);\n    }\n    showAllTpps() {\n      this.searchForm.controls.ibanParam.patchValue('');\n      this.searchForm.controls.tppId.patchValue('');\n      this.searchForm.controls.tppLogin.patchValue('');\n      this.searchForm.controls.country.patchValue('');\n      this.searchForm.controls.blocked.patchValue('');\n      this.searchForm.controls.itemsPerPage.patchValue(this.config.itemsPerPage);\n    }\n    isSearchFormEmpty() {\n      return this.searchForm.controls.blocked.value === '' && this.searchForm.controls.ibanParam.value === '' && this.searchForm.controls.tppId.value === '' && this.searchForm.controls.tppLogin.value === '' && this.searchForm.controls.country.value === '';\n    }\n    getCountries() {\n      this.countryService.getCountryList().subscribe(data => {\n        this.countries = data;\n      });\n    }\n    getPageConfigs() {\n      this.route.queryParams.subscribe(param => {\n        if (param.page) {\n          this.config.currentPageNumber = param.page;\n        } else {\n          this.config.currentPageNumber = 1;\n        }\n        if (param.tppId) {\n          this.searchForm.controls.tppId.patchValue(param.tppId);\n        }\n      });\n    }\n    getCurrentData() {\n      this.getAccounts(this.config.currentPageNumber, this.config.itemsPerPage, {\n        userLogin: this.searchForm.get('ibanParam').value,\n        tppId: this.searchForm.get('tppId').value,\n        tppLogin: this.searchForm.get('tppLogin').value,\n        country: this.searchForm.get('country').value,\n        blocked: this.searchForm.get('blocked').value\n      });\n    }\n    openConfirmation(content, tppId, type) {\n      this.statusBlock = type;\n      this.modalService.open(content).result.then(() => {\n        if (type === 'block') {\n          this.blockAccount(tppId);\n        } else if (type === 'unblock') {\n          this.blockAccount(tppId);\n        } else if (type === 'delete') {\n          this.delete(tppId);\n        }\n      });\n    }\n    blockAccount(accountId) {\n      this.tppManagementService.blockAccount(accountId).subscribe(() => {\n        if (this.statusBlock === 'block') {\n          this.infoService.openFeedback('Account was successfully unblocked!', {\n            severity: 'info'\n          });\n        }\n        this.getAccounts(this.config.currentPageNumber, this.config.itemsPerPage, {});\n      });\n      if (this.statusBlock === 'unblock') {\n        this.infoService.openFeedback('Account was successfully blocked!', {\n          severity: 'info'\n        });\n        this.getAccounts(this.config.currentPageNumber, this.config.itemsPerPage, {});\n      }\n    }\n    delete(accountId) {\n      if (this.admin === 'true') {\n        this.tppManagementService.deleteAccount(accountId).subscribe(() => {\n          this.infoService.openFeedback('Account was successfully deleted!', {\n            severity: 'info'\n          });\n          this.getAccounts(this.config.currentPageNumber, this.config.itemsPerPage, {});\n        });\n      } else if (this.admin === 'false') {\n        this.accountService.deleteAccount(accountId).subscribe(() => {\n          this.infoService.openFeedback('Account was successfully deleted!', {\n            severity: 'info'\n          });\n          this.getAccounts(this.config.currentPageNumber, this.config.itemsPerPage, {});\n        });\n      }\n    }\n    static #_ = this.ɵfac = function AccountListComponent_Factory(t) {\n      return new (t || AccountListComponent)(i0.ɵɵdirectiveInject(i1.AccountService), i0.ɵɵdirectiveInject(i2.UntypedFormBuilder), i0.ɵɵdirectiveInject(i3.Router), i0.ɵɵdirectiveInject(i4.CountryService), i0.ɵɵdirectiveInject(i5.PageNavigationService), i0.ɵɵdirectiveInject(i6.TppManagementService), i0.ɵɵdirectiveInject(i7.InfoService), i0.ɵɵdirectiveInject(i8.TppUserService), i0.ɵɵdirectiveInject(i3.ActivatedRoute), i0.ɵɵdirectiveInject(i9.NgbModal));\n    };\n    static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: AccountListComponent,\n      selectors: [[\"app-account-list\"]],\n      decls: 45,\n      vars: 9,\n      consts: [[1, \"container-fluid\", 3, \"formGroup\"], [1, \"row\", \"header\"], [1, \"col-12\", \"col-md-3\", \"header__title\"], [1, \"col-12\", \"col-md-9\"], [1, \"row\"], [1, \"col-12\", \"col-md-12\", \"p-md-0\"], [1, \"mb-3\", \"has-search\"], [1, \"form-control-feedback\"], [\"src\", \"./assets/icons/search.svg\"], [\"placeholder\", \"Search by IBAN\", \"formControlName\", \"ibanParam\", \"type\", \"text\", 1, \"form-control\", \"w-100\"], [1, \"card\"], [1, \"card-body\"], [1, \"table-responsive\"], [1, \"container-fluid\", 3, \"ngClass\"], [1, \"d-flex\", \"justify-content-between\", \"configs\", \"fixed-width\"], [1, \"paginator\"], [3, \"paginationConfig\", \"pageDataConfig\"], [\"class\", \"tpp-filters\", 4, \"ngIf\"], [1, \"table\"], [\"scope\", \"col\"], [\"scope\", \"col\", 4, \"ngIf\"], [3, \"ngClass\", 4, \"ngFor\", \"ngForOf\"], [1, \"container-fluid\"], [1, \"d-flex\", \"justify-content-start\"], [1, \"tpp-filters\"], [1, \"row\", \"d-flex\", \"justify-content-end\"], [\"class\", \"me-2\", 4, \"ngIf\"], [\"class\", \"select\", 4, \"ngIf\"], [\"class\", \"row d-flex justify-content-end\", 4, \"ngIf\"], [1, \"me-2\"], [\"for\", \"country\"], [1, \"filter\"], [\"placeholder\", \"Search by TPP ID...\", \"formControlName\", \"tppId\", \"type\", \"text\", 1, \"form-control\"], [1, \"select\"], [1, \"select-filter\"], [\"name\", \"country\", \"formControlName\", \"country\", \"id\", \"country\", 1, \"form-control\"], [\"id\", \"emptySelect\", \"selected\", \"\", 3, \"ngValue\"], [3, \"ngValue\", 4, \"ngFor\", \"ngForOf\"], [3, \"ngValue\"], [1, \"btn\", \"btn-outline-primary\", \"btn-sm\", \"mt-2\", \"mb-3\", \"me-1\", \"filter-button\", 3, \"ngClass\", \"click\"], [3, \"ngClass\"], [\"scope\", \"row\", 3, \"routerLink\"], [3, \"routerLink\", \"queryParams\"], [4, \"ngIf\"], [3, \"routerLink\"], [1, \"action\", \"d-flex\"], [\"aria-label\", \"Deposit Cash\", \"mat-fab\", \"\", \"matTooltip\", \"Deposit Cash\", \"class\", \"btn btn-table-btn me-2\", 3, \"matTooltipPosition\", \"disabled\", \"click\", 4, \"ngIf\"], [\"mat-fab\", \"\", \"aria-label\", \"Block the account\", 1, \"btn\", \"btn-table-btn\", \"me-2\", 3, \"matTooltip\", \"matTooltipPosition\", \"click\"], [\"deleteConfirmationModal\", \"\"], [\"blockConfirmation\", \"\"], [\"mat-fab\", \"\", \"matTooltip\", \"Delete the account\", \"aria-label\", \"Delete the account\", 1, \"btn\", \"btn-outline-danger\", \"me-2\", 3, \"matTooltipPosition\", \"click\"], [3, \"routerLink\", \"queryParams\", \"ngClass\"], [\"aria-label\", \"Deposit Cash\", \"mat-fab\", \"\", \"matTooltip\", \"Deposit Cash\", 1, \"btn\", \"btn-table-btn\", \"me-2\", 3, \"matTooltipPosition\", \"disabled\", \"click\"], [1, \"modal-header\"], [\"id\", \"modal-basic-title\", 1, \"modal-title\"], [\"type\", \"button\", \"aria-label\", \"Close\", 1, \"btn-close\", \"box__close-icon\", 3, \"click\"], [1, \"modal-body\"], [1, \"modal-footer\"], [\"mat-raised-button\", \"\", \"type\", \"button\", 1, \"btn\", \"btn-outline-secondary\", \"me-2\", 3, \"click\"], [\"mat.mdc-button-theme\", \"\", \"type\", \"button\", 1, \"btn\", \"btn-danger\", 3, \"click\"], [\"id\", \"modal-basic-title-1\", 1, \"modal-title\"]],\n      template: function AccountListComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"div\", 2);\n          i0.ɵɵtext(3, \"Accounts\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(4, \"div\", 3)(5, \"div\", 4)(6, \"div\", 5)(7, \"div\", 6)(8, \"span\", 7);\n          i0.ɵɵelement(9, \"img\", 8);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(10, \"div\");\n          i0.ɵɵelement(11, \"input\", 9);\n          i0.ɵɵelementEnd()()()()()();\n          i0.ɵɵelementStart(12, \"div\", 10)(13, \"div\", 11)(14, \"div\", 12)(15, \"div\", 13)(16, \"div\", 14)(17, \"div\", 15)(18, \"app-pagination-container\", 16);\n          i0.ɵɵlistener(\"pageDataConfig\", function AccountListComponent_Template_app_pagination_container_pageDataConfig_18_listener($event) {\n            return ctx.pageChange($event);\n          });\n          i0.ɵɵelementEnd()();\n          i0.ɵɵtemplate(19, AccountListComponent_div_19_Template, 6, 3, \"div\", 17);\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(20, \"table\", 18)(21, \"thead\")(22, \"tr\")(23, \"th\", 19);\n          i0.ɵɵtext(24, \"#\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(25, \"th\", 19);\n          i0.ɵɵtext(26, \"IBAN\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(27, \"th\", 19);\n          i0.ɵɵtext(28, \"Balance\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(29, \"th\", 19);\n          i0.ɵɵtext(30, \"Currency\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵtemplate(31, AccountListComponent_th_31_Template, 2, 0, \"th\", 20);\n          i0.ɵɵelementStart(32, \"th\", 19);\n          i0.ɵɵtext(33, \"Account Type\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(34, \"th\", 19);\n          i0.ɵɵtext(35, \"Usage Type\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(36, \"th\", 19);\n          i0.ɵɵtext(37, \"Account Status\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(38, \"th\", 19);\n          i0.ɵɵtext(39, \"Actions\");\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵelementStart(40, \"tbody\");\n          i0.ɵɵtemplate(41, AccountListComponent_tr_41_Template, 28, 50, \"tr\", 21);\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(42, \"div\", 22)(43, \"div\", 23)(44, \"app-pagination-container\", 16);\n          i0.ɵɵlistener(\"pageDataConfig\", function AccountListComponent_Template_app_pagination_container_pageDataConfig_44_listener($event) {\n            return ctx.pageChange($event);\n          });\n          i0.ɵɵelementEnd()()()()()()();\n        }\n        if (rf & 2) {\n          i0.ɵɵproperty(\"formGroup\", ctx.searchForm);\n          i0.ɵɵadvance(15);\n          i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(7, _c5, ctx.admin));\n          i0.ɵɵadvance(3);\n          i0.ɵɵproperty(\"paginationConfig\", ctx.config);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", ctx.admin);\n          i0.ɵɵadvance(12);\n          i0.ɵɵproperty(\"ngIf\", ctx.admin === \"true\");\n          i0.ɵɵadvance(10);\n          i0.ɵɵproperty(\"ngForOf\", ctx.accounts);\n          i0.ɵɵadvance(3);\n          i0.ɵɵproperty(\"paginationConfig\", ctx.config);\n        }\n      },\n      dependencies: [i10.NgClass, i10.NgForOf, i10.NgIf, i3.RouterLink, i2.NgSelectOption, i2.ɵNgSelectMultipleOption, i2.DefaultValueAccessor, i2.SelectControlValueAccessor, i2.NgControlStatus, i2.NgControlStatusGroup, i2.FormGroupDirective, i2.FormControlName, i11.MatIcon, i12.MatButton, i12.MatFabButton, i13.MatTooltip, i14.PaginationContainerComponent],\n      styles: [\"[_ngcontent-%COMP%]:root{--fontFamily: \\\"Verdana\\\", sans-serif;--textFontSize: 1rem;--textFontWeight: bold;--textFontSize768px: 1rem;--textFontWeight768px: bold;--textFontSize1024px: 1rem;--textFontWeight1024px: bold;--h1FontSize: 2rem;--h1FontWeight: bold;--h2FontSize: 1.8rem;--h2FontWeight: 700;--h3FontSize: 1rem;--h3FontWeight: normal;--h1FontSize768px: 2rem;--h1FontWeight768px: bold;--h1FontSize1024px: 2rem;--h1FontWeight1024px: bold;--h2FontSize768px: 1.5rem;--h2FontWeight768px: bold;--h2FontSize1024px: 1.5rem;--h2FontWeight1024px: bold;--h3FontSize768px: 1rem;--h3FontWeight768px: normal;--h3FontSize1024px: 1rem;--h3FontWeight1024px: normal;--colorPrimary: #13bf9f;--colorSecondary: #13bf9f;--tr-color: #000000;--bodyBG: #fff;--bodyFontColor: #212529;--mainBG: #f8f8f8;--menuItemHovered: white;--headerBG: #ffffff;--headerFontColor: #000000;--headerBorderTop: 0px;--footerBG: #054f72;--footerFontColor: #ffffff;--anchorFontColor: #2c2e2f;--anchorFontColorHover: #13bf9f;--button-heigh: 50px;--buttonTextColor: #fff;--buttonBorderRadius: 3px;--buttonColorTextDisabled: #fff;--buttonBGDisabled: linear-gradient(129.54deg, var(--buttonBgGradient1) 0%, var(--buttonBgGradient2) 100%);--button-opacity: .65;--button-heigh: 56px;--btn-padding: 15px 12px;--buttonBgGradient1: #13b4bf;--buttonBgGradient2: #0a8f70;--buttonBG: linear-gradient(129.54deg, var(--buttonBgGradient1) 0%, var(--buttonBgGradient2) 100%);--buttonHoveredGradient1: #059c85;--buttonHoveredGradient2: #0a8f70;--buttonHovered: linear-gradient(129.54deg, var(--buttonHoveredGradient1) 0%, var(--buttonHoveredGradient2) 100%);--buttonClickedGradient1: #13b4bf;--buttonClickedGradient2: #008073;--buttonClicked: linear-gradient(129.54deg, var(--buttonClickedGradient1) 0%, var(--buttonClickedGradient2) 100%);--secondaryButtonTextColor: #dc3545;--secondaryButtonBG: white;--secondaryButtonHoveredTextColor: white;--secondaryButtonHovered: #dc3545;--secondaryButtonClickedTextColor: white;--secondaryButtonClicked: #dc3545;--secondaryButtonBorderStyle: 1px solid #dc3545;--inputBG: white;--inputBorderStyleLeft: 1px solid #a0a0a0;--inputBorderStyleRight: 1px solid #a0a0a0;--inputBorderStyleBottom: 1px solid #a0a0a0;--inputBorderStyleTop: 1px solid #a0a0a0;--inputBorderRadius: .25rem;--selectBG: white;--selectColor: #3b4151;--selectBorderStyleLeft: none;--selectBorderStyleRight: none;--selectBorderStyleBottom: none;--selectBorderStyleTop: none;--selectBorderRadius: none;--margin-form-group: 0 0 4rem 0;--form-group-height: 3.5rem;--border-bottom: none;--margin-top-icon: 6px;--arrow-url: url(/assets/icons/arrow-down.svg)}tr[_ngcontent-%COMP%]{cursor:pointer}tr[_ngcontent-%COMP%]:hover{background-color:#f3f3f3;transition:.4s}tr[_ngcontent-%COMP%]:first-of-type   th[_ngcontent-%COMP%]{border-top:none;padding-bottom:1.5rem}tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{color:#ababab}ul[_ngcontent-%COMP%]{list-style-type:none;margin:0;padding:0}[_ngcontent-%COMP%]:root{--fontFamily: \\\"Verdana\\\", sans-serif;--textFontSize: 1rem;--textFontWeight: bold;--textFontSize768px: 1rem;--textFontWeight768px: bold;--textFontSize1024px: 1rem;--textFontWeight1024px: bold;--h1FontSize: 2rem;--h1FontWeight: bold;--h2FontSize: 1.8rem;--h2FontWeight: 700;--h3FontSize: 1rem;--h3FontWeight: normal;--h1FontSize768px: 2rem;--h1FontWeight768px: bold;--h1FontSize1024px: 2rem;--h1FontWeight1024px: bold;--h2FontSize768px: 1.5rem;--h2FontWeight768px: bold;--h2FontSize1024px: 1.5rem;--h2FontWeight1024px: bold;--h3FontSize768px: 1rem;--h3FontWeight768px: normal;--h3FontSize1024px: 1rem;--h3FontWeight1024px: normal;--colorPrimary: #13bf9f;--colorSecondary: #13bf9f;--tr-color: #000000;--bodyBG: #fff;--bodyFontColor: #212529;--mainBG: #f8f8f8;--menuItemHovered: white;--headerBG: #ffffff;--headerFontColor: #000000;--headerBorderTop: 0px;--footerBG: #054f72;--footerFontColor: #ffffff;--anchorFontColor: #2c2e2f;--anchorFontColorHover: #13bf9f;--button-heigh: 50px;--buttonTextColor: #fff;--buttonBorderRadius: 3px;--buttonColorTextDisabled: #fff;--buttonBGDisabled: linear-gradient(129.54deg, var(--buttonBgGradient1) 0%, var(--buttonBgGradient2) 100%);--button-opacity: .65;--button-heigh: 56px;--btn-padding: 15px 12px;--buttonBgGradient1: #13b4bf;--buttonBgGradient2: #0a8f70;--buttonBG: linear-gradient(129.54deg, var(--buttonBgGradient1) 0%, var(--buttonBgGradient2) 100%);--buttonHoveredGradient1: #059c85;--buttonHoveredGradient2: #0a8f70;--buttonHovered: linear-gradient(129.54deg, var(--buttonHoveredGradient1) 0%, var(--buttonHoveredGradient2) 100%);--buttonClickedGradient1: #13b4bf;--buttonClickedGradient2: #008073;--buttonClicked: linear-gradient(129.54deg, var(--buttonClickedGradient1) 0%, var(--buttonClickedGradient2) 100%);--secondaryButtonTextColor: #dc3545;--secondaryButtonBG: white;--secondaryButtonHoveredTextColor: white;--secondaryButtonHovered: #dc3545;--secondaryButtonClickedTextColor: white;--secondaryButtonClicked: #dc3545;--secondaryButtonBorderStyle: 1px solid #dc3545;--inputBG: white;--inputBorderStyleLeft: 1px solid #a0a0a0;--inputBorderStyleRight: 1px solid #a0a0a0;--inputBorderStyleBottom: 1px solid #a0a0a0;--inputBorderStyleTop: 1px solid #a0a0a0;--inputBorderRadius: .25rem;--selectBG: white;--selectColor: #3b4151;--selectBorderStyleLeft: none;--selectBorderStyleRight: none;--selectBorderStyleBottom: none;--selectBorderStyleTop: none;--selectBorderRadius: none;--margin-form-group: 0 0 4rem 0;--form-group-height: 3.5rem;--border-bottom: none;--margin-top-icon: 6px;--arrow-url: url(/assets/icons/arrow-down.svg)}.justify-space-between[_ngcontent-%COMP%]{justify-content:space-between}.flex[_ngcontent-%COMP%]{display:flex}.p-md-0[_ngcontent-%COMP%]{padding-right:15px!important;padding-left:35px!important}.has-search[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{padding-left:2.375rem}.has-search[_ngcontent-%COMP%]   .form-control-feedback[_ngcontent-%COMP%]{position:absolute;margin-top:var(--margin-top-icon);align-items:inherit;z-index:2;display:block;width:2.375rem;height:2.375rem;line-height:2.375rem;text-align:center;pointer-events:none;color:#2c2e2f}\"]\n    });\n  }\n  return AccountListComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}
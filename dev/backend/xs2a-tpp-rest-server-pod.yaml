apiVersion: v1
kind: Pod
metadata:
  annotations:
    kompose.cmd: C:\WINDOWS\system32\kompose.exe convert
    kompose.version: 1.26.0 (40646f47)
  creationTimestamp: null
  labels:
    io.kompose.network/xs2a-net: "true"
    io.kompose.service: xs2a-tpp-rest-server
  name: xs2a-tpp-rest-server
spec:
  containers:
    - env:
        - name: KEYCLOAK_AUTH_SERVER_URL
          value: http://ledgers-keycloak:8080/auth
        - name: LEDGERS_URL
          value: http://ledgers:8088
        - name: SPRING_CONSENT_DATASOURCE_HIKARI_JDBCURL
          value: jdbc:postgresql://xs2a-consent-management-db/consent?currentSchema=consent
        - name: SPRING_CONSENT_DATASOURCE_HIKARI_PASSWORD
          value: cms
        - name: SPRING_CONSENT_DATASOURCE_HIKARI_USERNAME
          value: cms
        - name: SPRING_DATASOURCE_HIKARI_JDBCURL
          value: jdbc:postgresql://xs2a-consent-management-db/consent?currentSchema=consent
        - name: SPRING_DATASOURCE_HIKARI_PASSWORD
          value: cms
        - name: SPRING_DATASOURCE_HIKARI_USERNAME
          value: cms
        - name: SPRING_TPP_DATASOURCE_HIKARI_JDBCURL
          value: jdbc:postgresql://xs2a-consent-management-db/consent?currentSchema=tpp
        - name: SPRING_TPP_DATASOURCE_HIKARI_PASSWORD
          value: cms
        - name: SPRING_TPP_DATASOURCE_HIKARI_USERNAME
          value: cms
      image: 'adorsys/xs2a-tpp-rest-server:'
      name: xs2a-tpp-rest-server
      ports:
        - containerPort: 8093
        - containerPort: 5005
      resources: {}
      volumeMounts:
        - mountPath: /var/lib/data
          name: xs2a-tpp-rest-server-data
  restartPolicy: OnFailure
  volumes:
    - name: xs2a-tpp-rest-server-data
      persistentVolumeClaim:
        claimName: xs2a-tpp-rest-server-data
status: {}
